# دليل المشروع الشامل من الصفر للمطورين الجدد

## مقدمة
أهلاً بك في مشروع **CogniForge**. هذا الدليل مصمم لجعلك تفهم كل جزء في هذا النظام حتى لو كانت خبرتك البرمجية 0%. سنشرح لك الهيكل، الملفات، ولماذا توجد كل فاصلة ونقطة.

## 1. الهيكل العام للمشروع (Project Structure)
المشروع مبني بلغة **Python** وباستخدام إطار عمل **FastAPI**. تخيل أن المشروع عبارة عن "عقل" (Brain) يستقبل طلبات ويعالجها.

### المجلدات الأساسية:
- **`app/`**: هذا هو "قلب" النظام. كل الكود المصدري يعيش هنا.
  - **`core/`**: يحتوي على "المحركات" (Engines) الأساسية. مثل محرك قاعدة البيانات، محرك الأمان، ومحرك الذكاء الاصطناعي. هذه الملفات هي البنية التحتية التي يعتمد عليها باقي النظام.
  - **`api/`**: هذا هو "الباب" (Door) الذي يدخل منه المستخدمون. يحتوي على `routers` (موجهات) تحدد الروابط (URLs) المتاحة، مثل `/login` أو `/chat`.
  - **`services/`**: هذه هي "العمال" (Workers). كل خدمة مسؤولة عن وظيفة محددة. مثلاً `user_service.py` مسؤول عن إنشاء وحذف المستخدمين.
  - **`models.py`**: يحدد "شكل البيانات" (Data Shape). كيف يبدو المستخدم في قاعدة البيانات؟ (اسم، بريد إلكتروني، كلمة مرور).

## 2. شرح الملفات الجوهرية (Core Files)

### `app/main.py`
هذا هو "نقطة الانطلاق" (Entry Point). عندما تشغل السيرفر، هذا أول ملف يعمل.
**ماذا يحدث داخله؟**
1. يقوم باستدعاء `create_app()` من الـ Kernel.
2. يجهز التطبيق لاستقبال الطلبات.

### `app/kernel.py`
هذا هو "العقل المدبر" (The Brain).
**وظيفته:**
- تجميع كل القطع مع بعضها (قاعدة البيانات + الراوترات + الخدمات).
- يضمن أن كل شيء جاهز قبل بدء العمل.

### `app/utils/service_locator.py`
هذا هو "دليل الهاتف". بدلاً من أن يعرف كل ملف مكان الملف الآخر (مما يسبب فوضى وتشابك)، يطلبون الخدمة من هذا الملف.
- مثال: "أريد خدمة المستخدمين" -> `ServiceLocator` يعطيك `UserService`.

## 3. رحلة الطلب (Life of a Request)
عندما يرسل المستخدم طلباً (مثلاً: تسجيل دخول):
1. **الاستقبال**: يستلم `app/main.py` الطلب.
2. **التوجيه**: يمر الطلب عبر `app/api/routers/auth.py`.
3. **المعالج**: يطلب الراوتر من `ServiceLocator` خدمة `auth_service`.
4. **التنفيذ**: تقوم الخدمة بالتحقق من كلمة المرور عبر `app/core/security.py`.
5. **قاعدة البيانات**: إذا كانت صحيحة، تتحدث الخدمة مع `database_service` لجلب بيانات المستخدم.
6. **الرد**: يعود الجواب (نجح/فشل) بنفس الطريق للمستخدم.

## 4. مفاهيم برمجية (للمبتدئين)
- **Decorator (`@something`)**: علامة توضع فوق الدالة لتضيف لها قوة خارقة. مثلاً `@app.get("/")` تخبر النظام أن هذه الدالة ستعمل عندما يزور أحد الصفحة الرئيسية.
- **Dependency Injection (`Depends(...)`)**: طريقة لطلب الأدوات. بدلاً من صنع "مفك براغي" جديد كل مرة، تطلبه من النظام "أعطني مفك البراغي الجاهز".
- **Async/Await**: تعني "لا تنتظر". النظام يرسل الطلب لقاعدة البيانات ويذهب لخدمة مستخدم آخر ريثما تعود البيانات. هذا ما يجعل النظام "سريعاً خارقاً".

## 5. الأوامر المهمة
- لتشغيل الاختبارات (للتأكد أن النظام سليم): `python -m pytest`
- لتشغيل السيرفر: `uvicorn app.main:app --reload`

## الخاتمة
هذا النظام مصمم ليكون "معيارياً" (Modular). يمكنك تغيير قطعة دون كسر النظام كله، تماماً مثل الليغو (Lego).
