{
  "name": "CogniForge: The Absolute Universal Environment v9.0",
  "workspaceFolder": "/app",
  "initializeCommand": "if [ ! -f .env ]; then cp .env.example .env; fi",
  "postCreateCommand": "echo '>>> [DevContainer] Building base Docker images...'; if command -v docker >/dev/null 2>&1; then docker compose build; else echo 'docker not found, skipping build'; fi",
  "postStartCommand": "echo '>>> [DevContainer] Starting all services & installing host dependencies...'; pip install -r requirements.txt; if command -v docker >/dev/null 2>&1; then docker compose up -d; else echo 'docker not found, skipping docker compose up'; fi",
  "postAttachCommand": {
    "db-setup": "echo '>>> [DevContainer] Migrating database...'; if command -v docker >/dev/null 2>&1; then docker compose run --rm migrations; else flask db upgrade; fi"
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-azuretools.vscode-docker",
        "eamodio.gitlens"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/usr/local/bin/python"
      }
    }
  },
  "forwardPorts": [5000, 8000],
  "remoteUser": "root"
}