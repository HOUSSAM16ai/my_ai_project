============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.12/bin/python
cachedir: .pytest_cache
rootdir: /app
configfile: pytest.ini (WARNING: ignoring pytest config in pyproject.toml!)
plugins: Faker-38.2.0, anyio-4.12.0, cov-7.0.0, factoryboy-2.8.1, asyncio-1.3.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1119 items

tests/config/test_ai_models.py::TestAIModelsConfiguration::test_opus_4_5_is_available PASSED [  0%]
tests/config/test_ai_models.py::TestAIModelsConfiguration::test_primary_model_is_opus_4_5 PASSED [  0%]
tests/config/test_ai_models.py::TestAIModelsConfiguration::test_gateway_primary_model_is_opus_4_5 PASSED [  0%]
tests/config/test_ai_models.py::TestAIModelsConfiguration::test_ai_config_singleton_reflects_changes PASSED [  0%]
tests/config/test_settings.py::test_database_url_fixer_handles_duplicates_gracefully PASSED [  0%]
tests/config/test_settings.py::test_database_url_fixer_handles_simple_sslmode PASSED [  0%]
tests/config/test_superhuman_config.py::TestSuperhumanConfiguration::test_codespaces_detection PASSED [  0%]
tests/config/test_superhuman_config.py::TestSuperhumanConfiguration::test_database_url_auto_healing PASSED [  0%]
tests/config/test_superhuman_config.py::TestSuperhumanConfiguration::test_secret_absorption PASSED [  0%]
tests/config/test_superhuman_config.py::TestSuperhumanConfiguration::test_sqlite_fallback PASSED [  0%]
tests/config/test_superhuman_config.py::TestSuperhumanConfiguration::test_cors_injection PASSED [  0%]
tests/contract/test_api_contract.py::TestAPIContracts::test_contract_placeholder PASSED [  1%]
tests/contract/test_api_contract.py::TestAPIContracts::test_consumer_contract PASSED [  1%]
tests/contract/test_api_contract.py::TestAPIContracts::test_provider_contract PASSED [  1%]
tests/core/math/test_omni_router_semantic.py::TestSemanticAffinityEngine::test_coding_affinity PASSED [  1%]
tests/core/math/test_omni_router_semantic.py::TestSemanticAffinityEngine::test_creative_affinity PASSED [  1%]
tests/core/math/test_omni_router_semantic.py::TestSemanticAffinityEngine::test_neutral_prompt PASSED [  1%]
tests/core/math/test_omni_router_semantic.py::TestOmniCognitiveRouterSemantic::test_ranking_with_semantics PASSED [  1%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[What is the capital of France?-CognitiveComplexity.REFLEX] PASSED [  1%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Hello, how are you?-CognitiveComplexity.REFLEX] PASSED [  1%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Translate 'book' to Spanish.-CognitiveComplexity.REFLEX] PASSED [  1%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Summarize the main points of the article about climate change.-CognitiveComplexity.THOUGHT] PASSED [  1%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Explain the difference between supervised and unsupervised machine learning.-CognitiveComplexity.THOUGHT] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[What are the implications of quantum computing on modern cryptography?-CognitiveComplexity.THOUGHT] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[def factorial(n):-CognitiveComplexity.DEEP_THOUGHT] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Write a Python function to find all prime numbers up to n.-CognitiveComplexity.DEEP_THOUGHT] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[```javascript\nconst x = 10;\n```-CognitiveComplexity.DEEP_THOUGHT] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Write a short story about a robot who discovers music.-CognitiveComplexity.CREATIVE] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Imagine you are a dragon. Describe your hoard.-CognitiveComplexity.CREATIVE] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Create a dialogue between Plato and a modern-day influencer.-CognitiveComplexity.CREATIVE] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Solve the following equation for x: 2x + 5 = 15-CognitiveComplexity.LOGICAL_REASONING] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[Calculate the derivative of x^3.-CognitiveComplexity.LOGICAL_REASONING] PASSED [  2%]
tests/core/test_cognitive_fingerprint.py::test_assess_cognitive_complexity[If a train leaves station A at 60 mph and another leaves station B at 70 mph, when will they meet?-CognitiveComplexity.LOGICAL_REASONING] PASSED [  2%]
tests/core/test_cognitive_fingerprint_bug_fix.py::test_cognitive_complexity_precedence[Write a python function to solve a quadratic equation-CognitiveComplexity.DEEP_THOUGHT] PASSED [  3%]
tests/core/test_cognitive_fingerprint_bug_fix.py::test_cognitive_complexity_precedence[Write a Python function to calculate the factorial-CognitiveComplexity.DEEP_THOUGHT] PASSED [  3%]
tests/core/test_cognitive_fingerprint_bug_fix.py::test_cognitive_complexity_precedence[Write a poem about a function-CognitiveComplexity.CREATIVE] PASSED [  3%]
tests/core/test_cognitive_fingerprint_bug_fix.py::test_cognitive_complexity_precedence[Solve the following equation for x-CognitiveComplexity.LOGICAL_REASONING] PASSED [  3%]
tests/core/test_duplication_elimination.py::TestCommonImports::test_import_helper_get_existing_module PASSED [  3%]
tests/core/test_duplication_elimination.py::TestCommonImports::test_import_helper_get_nonexistent_module PASSED [  3%]
tests/core/test_duplication_elimination.py::TestCommonImports::test_import_helper_has_module PASSED [  3%]
tests/core/test_duplication_elimination.py::TestCommonImports::test_import_helper_caching PASSED [  3%]
tests/core/test_duplication_elimination.py::TestCommonImports::test_feature_flags PASSED [  3%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_safe_execute_success PASSED [  3%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_safe_execute_with_error PASSED [  3%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_safe_execute_with_none_default PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_retry_on_failure_success_first_try PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_retry_on_failure_success_after_retries PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_retry_on_failure_exhausted PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_suppress_errors_success PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_suppress_errors_suppresses_specified PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_suppress_errors_doesnt_suppress_others PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_safe_context_success PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_safe_context_with_error PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_capture_errors_captures PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_capture_errors_without_list PASSED [  4%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_error_handler_handle PASSED [  5%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_error_handler_wrap_function_success PASSED [  5%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_error_handler_wrap_function_error PASSED [  5%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_format_exception_without_traceback PASSED [  5%]
tests/core/test_duplication_elimination.py::TestErrorHandling::test_format_exception_with_traceback PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_ring_buffer_append PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_ring_buffer_overflow PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_ring_buffer_clear PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_profiler_init PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_profiler_enable_disable PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_profiler_clear PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_metrics_collector_record PASSED [  5%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_metrics_collector_record_disabled PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_metrics_collector_reset PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_base_metrics_collector_statistics PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_time_profiler_record_duration PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_time_profiler_statistics PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_time_profiler_statistics_empty PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_count_profiler_increment PASSED [  6%]
tests/core/test_duplication_elimination.py::TestBaseProfiler::test_count_profiler_statistics PASSED [  6%]
tests/core/test_duplication_elimination.py::TestIntegrationScenarios::test_error_handler_with_retry PASSED [  6%]
tests/core/test_duplication_elimination.py::TestIntegrationScenarios::test_profiler_with_error_handling PASSED [  6%]
tests/core/test_engine_factory_fix.py::test_engine_factory_pgbouncer_config PASSED [  6%]
tests/core/test_engine_factory_hardened.py::test_create_unified_async_engine_postgres_hardening PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_create_unified_async_engine_sqlite PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_sanitize_database_url PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_create_unified_async_engine_protocol_upgrade PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_pgbouncer_compatibility_settings PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_adaptive_pooler_detection PASSED [  7%]
tests/core/test_engine_factory_hardened.py::test_quantum_statement_name_generator PASSED [  7%]
tests/core/test_middleware_duplication.py::test_middleware_chaos_interference PASSED [  7%]
tests/core/test_rate_limit_cooldown.py::test_rate_limit_cooldown_behavior PASSED [  7%]
tests/core/test_rate_limit_middleware_config.py::test_rate_limit_middleware_exists PASSED [  7%]
tests/core/test_schema_validation_bug.py::test_validate_and_fix_schema_bug_on_sqlite PASSED [  7%]
tests/core/test_self_healing_core.py::TestSelfHealingSecurity::test_validate_table_name_security PASSED [  8%]
tests/core/test_self_healing_core.py::TestSelfHealingSecurity::test_validate_column_name_security PASSED [  8%]
tests/core/test_self_healing_core.py::TestSQLGenerator::test_add_column_sql PASSED [  8%]
tests/core/test_self_healing_core.py::TestSQLGenerator::test_create_index_sql PASSED [  8%]
tests/core/test_self_healing_core.py::TestSelfHealingEngineLogic::test_heal_async_detects_missing_column PASSED [  8%]
tests/core/test_self_healing_core.py::TestSelfHealingEngineLogic::test_heal_api_error PASSED [  8%]
tests/core/test_superhuman_ai_gateway.py::TestSuperhumanAIGateway::test_complexity_routing PASSED [  8%]
tests/core/test_superhuman_ai_gateway.py::TestSuperhumanAIGateway::test_circuit_breaker_integration PASSED [  8%]
tests/core/test_superhuman_ai_gateway.py::TestSuperhumanAIGateway::test_fallback_chain PASSED [  8%]
tests/core/test_superhuman_ai_gateway_bug_fix.py::TestGatewayBugFix::test_stream_chat_handles_correct_openai_format PASSED [  8%]
tests/gateways/test_ai_gateway_smoke.py::test_stream_chat_success PASSED [  8%]
tests/gateways/test_ai_gateway_smoke.py::test_stream_chat_rate_limit PASSED [  9%]
tests/gateways/test_ai_gateway_smoke.py::test_stream_chat_server_error PASSED [  9%]
tests/integration/test_admin_chat_api.py::TestAdminChatAPI::test_health_check PASSED [  9%]
tests/integration/test_admin_chat_api.py::TestAdminChatAPI::test_admin_chat_unauthorized PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[read app/models.py-ChatIntent.FILE_READ] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[show file app/main.py-ChatIntent.FILE_READ] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[\u0627\u0642\u0631\u0623 \u0645\u0644\u0641 app/config.py-ChatIntent.FILE_READ] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[search AdminMessage-ChatIntent.CODE_SEARCH] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[find SessionLocal-ChatIntent.CODE_SEARCH] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[\u0627\u0628\u062d\u062b \u0639\u0646 User-ChatIntent.CODE_SEARCH] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[analyze the project-ChatIntent.PROJECT_INDEX] PASSED [  9%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[refactor the codebase-ChatIntent.MISSION_COMPLEX] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[\u062d\u0644\u0644 \u0627\u0644\u0645\u0634\u0631\u0648\u0639-ChatIntent.PROJECT_INDEX] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[create a mission to fix bugs-ChatIntent.MISSION_COMPLEX] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[help-ChatIntent.HELP] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[\u0645\u0633\u0627\u0639\u062f\u0629-ChatIntent.HELP] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[hello how are you-ChatIntent.SIMPLE_CHAT] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_detection[what is python-ChatIntent.SIMPLE_CHAT] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestIntentDetection::test_intent_result_has_params PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[app/models.py-True] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[src/utils/helper.py-True] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[README.md-True] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[../../../etc/passwd-False] PASSED [ 10%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[/etc/passwd-False] PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[C:\\Windows\\System32-False] PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_path_validation[~/.bashrc-False] PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_blocks_null_byte PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestPathValidator::test_blocks_long_path PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestErrorSanitizer::test_sanitizes_file_paths PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestErrorSanitizer::test_sanitizes_credentials PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestErrorSanitizer::test_truncates_long_errors PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestErrorSanitizer::test_handles_none_error PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestErrorSanitizer::test_handles_empty_error PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestRateLimiter::test_allows_within_limit PASSED [ 11%]
tests/integration/test_chat_overmind_integration.py::TestRateLimiter::test_blocks_after_limit PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestRateLimiter::test_different_users_have_separate_limits PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestRateLimiter::test_different_tools_have_separate_limits PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestRateLimiter::test_reset_clears_limit PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestChatOrchestrator::test_file_read_validates_path PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestChatOrchestrator::test_code_search_validates_short_query PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestChatOrchestrator::test_code_search_validates_long_query PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestChatOrchestrator::test_help_handler_returns_content PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestChatOrchestrator::test_graceful_degradation_when_tools_unavailable PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestSingletonInstance::test_get_chat_orchestrator_returns_same_instance PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestIntentResult::test_create_result PASSED [ 12%]
tests/integration/test_chat_overmind_integration.py::TestAsyncToolBridge::test_run_sync_tool_handles_timeout PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestAsyncToolBridge::test_async_tools_reports_unavailable PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestCircuitBreaker::test_circuit_starts_closed PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestCircuitBreaker::test_circuit_opens_after_failures PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestCircuitBreaker::test_circuit_closes_after_success PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestCircuitBreaker::test_circuit_breaker_registry PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestChatTelemetry::test_telemetry_to_dict PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestNewHandlers::test_project_index_validates_rate_limit PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestNewHandlers::test_file_write_validates_path PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestNewHandlers::test_help_includes_new_commands PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestNewHandlers::test_circuit_breaker_integration PASSED [ 13%]
tests/integration/test_chat_overmind_integration.py::TestDomainEvents::test_chat_intent_detected_event PASSED [ 14%]
tests/integration/test_chat_overmind_integration.py::TestDomainEvents::test_tool_execution_started_event PASSED [ 14%]
tests/integration/test_chat_overmind_integration.py::TestDomainEvents::test_tool_execution_completed_event PASSED [ 14%]
tests/integration/test_chat_overmind_integration.py::TestDomainEvents::test_mission_created_from_chat_event PASSED [ 14%]
tests/integration/test_chat_overmind_integration.py::TestDomainEvents::test_events_registered_in_registry PASSED [ 14%]
tests/overmind/planning/test_deep_indexer.py::test_deep_indexer_build_index_structure PASSED [ 14%]
tests/overmind/planning/test_deep_indexer.py::test_summarize_for_prompt PASSED [ 14%]
tests/security/test_admin_security_upgrades.py::test_access_control_isolation PASSED [ 14%]
tests/security/test_admin_security_upgrades.py::test_admin_can_access_any_conversation PASSED [ 14%]
tests/security/test_admin_security_upgrades.py::test_cors_strictness_mock PASSED [ 14%]
tests/security/test_bcrypt_compat.py::test_bcrypt_hashing_and_verification PASSED [ 14%]
tests/security/test_bcrypt_compat.py::test_bcrypt_backend_attributes PASSED [ 15%]
tests/security/test_encryption.py::test_encryption_decryption PASSED     [ 15%]
tests/security/test_encryption.py::test_decryption_with_invalid_key_id PASSED [ 15%]
tests/security/test_encryption.py::test_key_rotation PASSED              [ 15%]
tests/security/test_encryption.py::test_get_statistics PASSED            [ 15%]
tests/security/test_hyper_defense.py::test_chrono_shield_allowance_under_limit PASSED [ 15%]
tests/security/test_hyper_defense.py::test_chrono_shield_exponential_backoff PASSED [ 15%]
tests/security/test_hyper_defense.py::test_chrono_shield_hard_lockout PASSED [ 15%]
tests/security/test_hyper_defense.py::test_chrono_shield_reset PASSED    [ 15%]
tests/security/test_hyper_defense.py::test_chrono_shield_ip_persistence PASSED [ 15%]
tests/security/test_password_compat.py::test_legacy_hash_support PASSED  [ 15%]
tests/security/test_user_me_endpoint.py::test_user_me_endpoint PASSED    [ 15%]
tests/security/test_user_me_endpoint.py::test_user_me_endpoint_invalid_token PASSED [ 16%]
tests/security/test_yaml_rce.py::TestYamlRCEProtection::test_unsafe_yaml_load_vulnerability_repro PASSED [ 16%]
tests/security/test_yaml_rce.py::TestYamlRCEProtection::test_safe_load_utility_success PASSED [ 16%]
tests/security/test_yaml_rce.py::TestYamlRCEProtection::test_safe_load_utility_file PASSED [ 16%]
tests/security/test_yaml_rce.py::TestYamlRCEProtection::test_prevention_of_rce_payload PASSED [ 16%]
tests/security/test_yaml_rce.py::TestYamlRCEProtection::test_codebase_scan_for_unsafe_load PASSED [ 16%]
tests/services/admin/test_admin_chat_refactor.py::test_admin_chat_refactor_structure PASSED [ 16%]
tests/services/admin/test_admin_chat_refactor.py::test_admin_chat_persistence_delegation PASSED [ 16%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_initial_state PASSED [ 16%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_success_flow PASSED [ 16%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_failure_threshold_opens_circuit PASSED [ 16%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_timeout_transition_to_half_open PASSED [ 17%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_success_closes_circuit PASSED [ 17%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_failure_opens_circuit PASSED [ 17%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_concurrency_limit PASSED [ 17%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_expected_exceptions PASSED [ 17%]
tests/services/resilience/test_circuit_breaker.py::TestCircuitBreaker::test_get_stats PASSED [ 17%]
tests/services/resilience/test_resilience_service.py::TestDistributedResilienceService::test_get_or_create_circuit_breaker PASSED [ 17%]
tests/services/resilience/test_resilience_service.py::TestDistributedResilienceService::test_get_or_create_retry_manager PASSED [ 17%]
tests/services/resilience/test_resilience_service.py::TestDistributedResilienceService::test_singleton_accessor PASSED [ 17%]
tests/services/resilience/test_resilience_service.py::TestDistributedResilienceService::test_resilient_decorator_circuit_breaker PASSED [ 17%]
tests/services/resilience/test_resilience_service.py::TestDistributedResilienceService::test_resilient_decorator_retry PASSED [ 17%]
tests/services/resilience/test_retry.py::TestRetryManager::test_successful_execution PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_retry_on_exception PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_max_retries_exceeded PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_retry_on_status_code PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_no_retry_on_4xx PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_retry_budget_exhausted PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_idempotency PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_delay_calculation_strategies PASSED [ 18%]
tests/services/resilience/test_retry.py::TestRetryManager::test_retry_budget_reset PASSED [ 18%]
tests/services/test_admin_ai_service_ordering_bug.py::test_admin_ai_service_message_ordering_bug PASSED [ 18%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_valid PASSED [ 18%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_missing PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_invalid_format PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_not_bearer PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_invalid_token PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_missing_sub PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_validate_auth_header_invalid_user_id_type PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_get_or_create_conversation_create_new PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_get_or_create_conversation_existing PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_get_or_create_conversation_not_found PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_get_or_create_conversation_invalid_id PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_save_message PASSED [ 19%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_get_chat_history PASSED [ 20%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_stream_chat_response_flow PASSED [ 20%]
tests/services/test_admin_chat_boundary_service_comprehensive.py::test_stream_chat_response_error_handling PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_smart_token_chunker_chunk_text PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_smart_token_chunker_smart_chunk PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_speculative_decoder_patterns PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_streaming_metrics PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_streaming_metrics_empty PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_service_initialization PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_service_stream_response PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_service_async_stream_response PASSED [ 20%]
tests/services/test_admin_chat_streaming_service_coverage.py::test_singleton PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestDeepLearningThreatDetector::test_detect_sql_injection_payload PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestDeepLearningThreatDetector::test_detect_sql_injection_url PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestDeepLearningThreatDetector::test_detect_xss PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestDeepLearningThreatDetector::test_detect_malformed_request_code PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestDeepLearningThreatDetector::test_detect_malformed_request_payload_size PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestBehavioralAnalyzer::test_get_or_create_profile PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestBehavioralAnalyzer::test_detect_unusual_endpoint PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestBehavioralAnalyzer::test_detect_unusual_time PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestBehavioralAnalyzer::test_detect_rapid_requests PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestBehavioralAnalyzer::test_update_profile PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestAutomatedResponseSystem::test_block_ip PASSED [ 21%]
tests/services/test_ai_advanced_security.py::TestAutomatedResponseSystem::test_block_user PASSED [ 22%]
tests/services/test_ai_advanced_security.py::TestAutomatedResponseSystem::test_rate_limit PASSED [ 22%]
tests/services/test_ai_advanced_security.py::TestAutomatedResponseSystem::test_respond_to_critical_threat PASSED [ 22%]
tests/services/test_ai_advanced_security.py::TestSuperhumanSecuritySystem::test_process_legitimate_request PASSED [ 22%]
tests/services/test_ai_advanced_security.py::TestSuperhumanSecuritySystem::test_process_malicious_request PASSED [ 22%]
tests/services/test_ai_advanced_security.py::TestSuperhumanSecuritySystem::test_security_dashboard PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_singleton_instance PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_collect_telemetry_updates_baseline PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_detect_zscore_anomaly_latency PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_detect_error_rate_threshold_anomaly PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_healing_action_determination PASSED [ 22%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_execute_healing PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_forecast_load PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_forecast_load_insufficient_data PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_calculate_trend PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_generate_capacity_plan PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_root_cause_analysis PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_get_aiops_metrics_and_health PASSED [ 23%]
tests/services/test_aiops_self_healing_service_coverage.py::TestAIOpsService::test_percentile_calculation PASSED [ 23%]
tests/services/test_api_contract_service.py::test_singleton PASSED       [ 23%]
tests/services/test_api_contract_service.py::test_validate_valid_request PASSED [ 23%]
tests/services/test_api_contract_service.py::test_validate_invalid_request PASSED [ 23%]
tests/services/test_api_contract_service.py::test_validate_valid_response PASSED [ 24%]
tests/services/test_api_contract_service.py::test_validate_invalid_response PASSED [ 24%]
tests/services/test_api_contract_service.py::test_get_api_version_from_header PASSED [ 24%]
tests/services/test_api_contract_service.py::test_get_api_version_from_path PASSED [ 24%]
tests/services/test_api_contract_service.py::test_get_default_api_version PASSED [ 24%]
tests/services/test_api_contract_service.py::test_check_version_compatibility PASSED [ 24%]
tests/services/test_api_contract_service.py::test_log_contract_violation PASSED [ 24%]
tests/services/test_api_contract_service.py::test_get_contract_violations PASSED [ 24%]
tests/services/test_api_contract_service.py::test_generate_openapi_spec PASSED [ 24%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_default_plans_initialization PASSED [ 24%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_register_backup PASSED [ 24%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_verify_backup PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_initiate_failover_success PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_initiate_failover_failure PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestDisasterRecoveryService::test_get_rto_rpo_status PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_create_incident PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_update_incident_status PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_update_non_existent_incident PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_assign_incident PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_on_call_schedule PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_create_post_incident_review PASSED [ 25%]
tests/services/test_api_disaster_recovery_service.py::TestOnCallIncidentService::test_incident_metrics PASSED [ 25%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_initialization PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_generate_trace_id PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_start_request_trace PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_record_request_metrics PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_record_error_metrics PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_performance_snapshot_empty PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_performance_snapshot_metrics PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_calculate_rps PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_anomaly_detection_critical PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_anomaly_detection_high PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_sla_violation PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_endpoint_analytics PASSED [ 26%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_endpoint_analytics_no_data PASSED [ 27%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_sla_compliance PASSED [ 27%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_thread_safety PASSED [ 27%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_monitor_performance_decorator_async PASSED [ 27%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_monitor_performance_decorator_exception PASSED [ 27%]
tests/services/test_api_observability_service.py::TestAPIObservabilityService::test_get_observability_service_global PASSED [ 27%]
tests/services/test_breakthrough_streaming_bug.py::test_breakthrough_streaming_json_injection_bug PASSED [ 27%]
tests/services/test_cache_leak.py::TestIntelligentCacheLeak::test_cache_size_leak_on_update PASSED [ 27%]
tests/services/test_cache_leak.py::TestIntelligentCacheLeak::test_cache_eviction_under_pressure_with_updates PASSED [ 27%]
tests/services/test_cache_leak.py::TestIntelligentCacheLeak::test_cache_size_leak_on_get_expiry PASSED [ 27%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_file_read PASSED [ 27%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_file_read_arabic PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_code_search PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_deep_analysis PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_mission_complex PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_help PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_detect_intent_simple_chat PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_handle_file_read_flow PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_handle_code_search_flow PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_orchestrate_simple_chat PASSED [ 28%]
tests/services/test_chat_orchestrator_service_comprehensive.py::test_orchestrate_delegates_to_handler PASSED [ 28%]
tests/services/test_circuit_breaker_wrapper.py::test_circuit_breaker_initialization PASSED [ 28%]
tests/services/test_circuit_breaker_wrapper.py::test_circuit_breaker_call_success PASSED [ 29%]
tests/services/test_circuit_breaker_wrapper.py::test_circuit_breaker_call_failure PASSED [ 29%]
tests/services/test_circuit_breaker_wrapper.py::test_circuit_breaker_open PASSED [ 29%]
tests/services/test_contract_schema_bug.py::test_list_conversations_contract_violation PASSED [ 29%]
tests/services/test_deep_analysis_intent_bug.py::test_stream_chat_response_deep_analysis_intent PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_init PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_analyze_file_parses_functions PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_analyze_file_detects_duplicates PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_analyze_file_ignores_non_duplicates PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_scan_traverses_directories PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_generate_report_format PASSED [ 29%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_analyze_file_handles_exceptions PASSED [ 30%]
tests/services/test_duplication_buster.py::TestDuplicationBuster::test_async_functions PASSED [ 30%]
tests/services/test_error_classification_bug.py::test_misleading_server_error_classification_bug PASSED [ 30%]
tests/services/test_error_classification_bug.py::test_correct_server_error_classification PASSED [ 30%]
tests/services/test_fastapi_generation_service.py::test_forge_new_code PASSED [ 30%]
tests/services/test_fastapi_generation_service.py::test_generate_json PASSED [ 30%]
tests/services/test_fastapi_generation_service.py::test_diagnostics PASSED [ 30%]
tests/services/test_fastapi_generation_service.py::test_execute_task_delegation PASSED [ 30%]
tests/services/test_llm_client_service.py::TestLLMInitialization::test_get_llm_client_defaults_to_mock PASSED [ 30%]
tests/services/test_llm_client_service.py::TestLLMInitialization::test_force_mock_mode PASSED [ 30%]
tests/services/test_llm_client_service.py::TestLLMInitialization::test_openai_client_initialization PASSED [ 30%]
tests/services/test_llm_client_service.py::TestLLMInitialization::test_openrouter_http_fallback PASSED [ 31%]
tests/services/test_llm_client_service.py::TestLLMInitialization::test_real_client_init_failure_falls_back_to_mock PASSED [ 31%]
tests/services/test_llm_client_service.py::TestMockClient::test_mock_client_chat_completion PASSED [ 31%]
tests/services/test_llm_client_service.py::TestHttpFallbackClient::test_http_fallback_chat_completion_success PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_invoke_chat_success_mock PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_invoke_chat_hooks PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_invoke_chat_retry_logic PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_circuit_breaker PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_invoke_chat_stream PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_cost_estimation PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_sanitization PASSED [ 31%]
tests/services/test_llm_client_service.py::TestInvocationLogic::test_llm_health PASSED [ 31%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_start_new_mission PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_run_mission_lifecycle_not_found PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_run_mission_lifecycle_catastrophic_failure PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_plan_phase_success PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_plan_phase_no_planners PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_plan_phase_all_planners_fail PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_execution_phase_success PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_execute_single_task_success PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_execute_single_task_failure PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_check_terminal_success PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_check_terminal_failed PASSED [ 32%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_tick_loop_timeout PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_tick_transitions PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_execute_tool_real PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_execute_tool_missing PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_adaptive_replan PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_module_wrappers PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_compute_diff PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_extract_answer PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_ensure_dict PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_canonicalize_tool_name PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_render_template PASSED [ 33%]
tests/services/test_master_agent_service.py::TestMasterAgentService::test_autofill_file_args PASSED [ 34%]
tests/services/test_observability_anomaly_bug.py::test_anomaly_detection_false_negative_due_to_baseline_pollution PASSED [ 34%]
tests/services/test_observability_error_rate_bug.py::test_error_rate_calculation_under_load PASSED [ 34%]
tests/services/test_policy_engine_bug.py::TestPolicyEngineBug::test_user_id_policy_enforcement PASSED [ 34%]
tests/services/test_policy_engine_bug.py::TestPolicyEngineBug::test_authenticated_request_allowed PASSED [ 34%]
tests/services/test_policy_engine_bug.py::TestPolicyEngineBug::test_false_positive_user_id_check PASSED [ 34%]
tests/services/test_policy_engine_optional.py::test_policy_engine_optional_user_id_bug PASSED [ 34%]
tests/services/test_policy_engine_semantics.py::TestPolicyEngineSemantics::test_confusing_policy_condition PASSED [ 34%]
tests/services/test_routing_normalization.py::test_routing_scale_normalization PASSED [ 34%]
tests/services/test_smart_chunker_whitespace.py::test_chunk_text_preserves_newlines PASSED [ 34%]
tests/services/test_smart_chunker_whitespace.py::test_chunk_text_preserves_indentation PASSED [ 34%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_create_plan_success PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_create_plan_unknown_key PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_create_all_plans PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_get_plan_names PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_decimal_conversion PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_free_plan_specifics PASSED [ 35%]
tests/services/test_subscription_plan_factory.py::TestSubscriptionPlanFactory::test_enterprise_plan_specifics PASSED [ 35%]
tests/services/test_task_execution_helpers.py::TestTaskInitializer::test_initialize_context_basic PASSED [ 35%]
tests/services/test_task_execution_helpers.py::TestTaskInitializer::test_initialize_context_with_tool_limit PASSED [ 35%]
tests/services/test_task_execution_helpers.py::TestTaskInitializer::test_initialize_context_invalid_tool_limit PASSED [ 35%]
tests/services/test_task_execution_helpers.py::TestTaskInitializer::test_initialize_context_no_mission PASSED [ 35%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_should_abort_on_limit_no_limit_set PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_should_abort_on_limit_not_reached PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_should_abort_on_limit_reached PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_check_repeat_pattern_first_call PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_check_repeat_pattern_threshold_reached PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_check_repeat_pattern_threshold_no_abort PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestToolCallHandler::test_tool_signature_generation PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_no_stagnation_empty_lists PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_no_stagnation_first_call PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_no_stagnation_different_tools PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_no_stagnation_different_length PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_stagnation_detected PASSED [ 36%]
tests/services/test_task_execution_helpers.py::TestStagnationDetector::test_stagnation_single_tool PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_build_result_basic PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_build_result_with_error PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_build_result_no_steps PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_determine_final_status_success PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_determine_final_status_stagnation_fail PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_determine_final_status_tool_limit_hit PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestTaskFinalizer::test_determine_final_status_repeat_abort PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestMessageBuilder::test_build_initial_messages PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestMessageBuilder::test_normalize_assistant_message_text_only PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestMessageBuilder::test_normalize_assistant_message_with_tools PASSED [ 37%]
tests/services/test_task_execution_helpers.py::TestMessageBuilder::test_normalize_assistant_message_empty PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_extract_usage_complete PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_extract_usage_partial PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_extract_usage_no_usage PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_accumulate_usage_first_call PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_accumulate_usage_multiple_calls PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestUsageTracker::test_accumulate_usage_ignores_non_int PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestIntegration::test_complete_task_execution_flow PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestEdgeCases::test_tool_signature_with_complex_args PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestEdgeCases::test_tool_signature_with_unparseable_args PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestEdgeCases::test_message_builder_with_missing_attributes PASSED [ 38%]
tests/services/test_task_execution_helpers.py::TestEdgeCases::test_usage_tracker_with_string_values PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestTaskExecutorIntegration::test_execute_task_invalid_no_mission PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestTaskExecutorIntegration::test_execute_task_client_init_failure PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestTaskExecutorIntegration::test_execute_task_success_final_answer PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestTaskExecutorIntegration::test_execute_task_with_tool_calls PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestTaskExecutorIntegration::test_execute_task_max_steps_exhausted PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestStepExecutorIntegration::test_step_executor_final_answer PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestStepExecutorIntegration::test_step_executor_stagnation_detection PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestStepExecutorIntegration::test_step_executor_tool_limit_reached PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestBackwardCompatibility::test_task_executor_maintains_interface PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestBackwardCompatibility::test_result_format_compatibility PASSED [ 39%]
tests/services/test_task_executor_refactored.py::TestExtensibility::test_can_extend_with_custom_tool_handler PASSED [ 40%]
tests/services/test_task_executor_refactored.py::TestExtensibility::test_can_extend_with_custom_finalizer PASSED [ 40%]
tests/services/test_task_executor_refactored.py::TestExtensibility::test_step_executor_extract_tool_info_robustness PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_get_all_users PASSED  [ 40%]
tests/services/test_user_service_coverage.py::test_create_new_user_success PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_create_new_user_duplicate_email PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_create_new_user_exception PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_ensure_admin_user_exists_create_new PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_ensure_admin_user_exists_already_admin PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_ensure_admin_user_exists_promote_user PASSED [ 40%]
tests/services/test_user_service_coverage.py::test_ensure_admin_user_missing_env PASSED [ 40%]
tests/smoke/test_api_smoke.py::test_health_check PASSED                  [ 41%]
tests/smoke/test_database_service_smoke.py::test_database_health_check PASSED [ 41%]
tests/smoke/test_service_integration.py::test_system_health_endpoint_healthy_integration PASSED [ 41%]
tests/smoke/test_startup.py::test_health_check PASSED                    [ 41%]
tests/smoke/test_startup.py::test_root PASSED                            [ 41%]
tests/smoke/test_startup.py::test_openapi_docs PASSED                    [ 41%]
tests/smoke/test_startup.py::test_api_health_v1 PASSED                   [ 41%]
tests/test_adaptive_cache_eviction.py::test_adaptive_cache_eviction_fix PASSED [ 41%]
tests/test_admin_api_error_handling.py::test_chat_stream_gateway_connection_error PASSED [ 41%]
tests/test_admin_api_error_handling.py::test_chat_stream_gateway_not_configured PASSED [ 41%]
tests/test_admin_api_error_handling.py::test_chat_stream_missing_question_payload PASSED [ 41%]
tests/test_admin_auth_config_fix.py::test_admin_auth_uses_centralized_config PASSED [ 42%]
tests/test_admin_chat_error_handling.py::test_chat_error_handling_no_auth PASSED [ 42%]
tests/test_admin_chat_error_handling.py::test_chat_error_handling_with_auth_but_service_error PASSED [ 42%]
tests/test_admin_chat_error_handling.py::test_analyze_project_error_handling PASSED [ 42%]
tests/test_admin_chat_history.py::test_admin_chat_history_streaming PASSED [ 42%]
tests/test_admin_chat_init_event.py::test_admin_chat_returns_conversation_init_event PASSED [ 42%]
tests/test_admin_chat_init_failure.py::test_conversation_init_before_intent_detection_failure PASSED [ 42%]
tests/test_admin_chat_order_bug.py::test_get_latest_chat_sort_order_bug PASSED [ 42%]
tests/test_analysis_module.py::TestAnomalyDataclasses::test_anomaly_type_values PASSED [ 42%]
tests/test_analysis_module.py::TestAnomalyDataclasses::test_anomaly_severity_values PASSED [ 42%]
tests/test_analysis_module.py::TestAnomalyDataclasses::test_anomaly_to_dict PASSED [ 42%]
tests/test_analysis_module.py::TestAnomalyDetectorInit::test_default_initialization PASSED [ 42%]
tests/test_analysis_module.py::TestAnomalyDetectorInit::test_custom_initialization PASSED [ 43%]
tests/test_analysis_module.py::TestZScoreDetection::test_zscore_needs_minimum_data PASSED [ 43%]
tests/test_analysis_module.py::TestZScoreDetection::test_zscore_detects_anomaly PASSED [ 43%]
tests/test_analysis_module.py::TestZScoreDetection::test_zscore_zero_stdev_handling PASSED [ 43%]
tests/test_analysis_module.py::TestIQRDetection::test_iqr_needs_minimum_data PASSED [ 43%]
tests/test_analysis_module.py::TestIQRDetection::test_iqr_detects_outlier PASSED [ 43%]
tests/test_analysis_module.py::TestIQRDetection::test_iqr_zero_iqr_handling PASSED [ 43%]
tests/test_analysis_module.py::TestMovingAverageDetection::test_moving_average_needs_minimum_data PASSED [ 43%]
tests/test_analysis_module.py::TestMovingAverageDetection::test_moving_average_detects_deviation PASSED [ 43%]
tests/test_analysis_module.py::TestMLDetection::test_ml_needs_minimum_data PASSED [ 43%]
tests/test_analysis_module.py::TestMLDetection::test_ml_detects_isolated_value PASSED [ 43%]
tests/test_analysis_module.py::TestCheckValue::test_check_value_needs_minimum_history PASSED [ 44%]
tests/test_analysis_module.py::TestCheckValue::test_check_value_detects_anomaly PASSED [ 44%]
tests/test_analysis_module.py::TestCheckValue::test_check_value_with_context PASSED [ 44%]
tests/test_analysis_module.py::TestDetermineAnomalySeverity::test_severity_critical PASSED [ 44%]
tests/test_analysis_module.py::TestDetermineAnomalySeverity::test_severity_high PASSED [ 44%]
tests/test_analysis_module.py::TestDetermineAnomalySeverity::test_severity_medium PASSED [ 44%]
tests/test_analysis_module.py::TestDetermineAnomalySeverity::test_severity_low PASSED [ 44%]
tests/test_analysis_module.py::TestRecommendedAction::test_critical_action PASSED [ 44%]
tests/test_analysis_module.py::TestRecommendedAction::test_high_action PASSED [ 44%]
tests/test_analysis_module.py::TestRecommendedAction::test_medium_action PASSED [ 44%]
tests/test_analysis_module.py::TestRecommendedAction::test_low_action PASSED [ 44%]
tests/test_analysis_module.py::TestCollectiveAnomalyDetection::test_collective_needs_minimum_data PASSED [ 45%]
tests/test_analysis_module.py::TestCollectiveAnomalyDetection::test_collective_detects_pattern PASSED [ 45%]
tests/test_analysis_module.py::TestStatisticsAndRetrieval::test_get_statistics PASSED [ 45%]
tests/test_analysis_module.py::TestStatisticsAndRetrieval::test_get_recent_anomalies PASSED [ 45%]
tests/test_analysis_module.py::TestStatisticsAndRetrieval::test_get_recent_anomalies_with_severity_filter PASSED [ 45%]
tests/test_analysis_module.py::TestPatternDataclasses::test_pattern_type_values PASSED [ 45%]
tests/test_analysis_module.py::TestPatternDataclasses::test_pattern_to_dict PASSED [ 45%]
tests/test_analysis_module.py::TestPatternRecognizerInit::test_default_initialization PASSED [ 45%]
tests/test_analysis_module.py::TestPatternRecognizerInit::test_custom_sensitivity PASSED [ 45%]
tests/test_analysis_module.py::TestTrafficPatternAnalysis::test_analyze_needs_minimum_data PASSED [ 45%]
tests/test_analysis_module.py::TestTrafficPatternAnalysis::test_analyze_detects_spike PASSED [ 45%]
tests/test_analysis_module.py::TestTrafficPatternAnalysis::test_analyze_detects_drop PASSED [ 46%]
tests/test_analysis_module.py::TestSpikeDetection::test_spike_detection_threshold PASSED [ 46%]
tests/test_analysis_module.py::TestDropDetection::test_drop_detection_threshold PASSED [ 46%]
tests/test_analysis_module.py::TestPeriodicPatternDetection::test_periodic_needs_minimum_data PASSED [ 46%]
tests/test_analysis_module.py::TestPeriodicPatternDetection::test_periodic_detects_repeating_pattern PASSED [ 46%]
tests/test_analysis_module.py::TestErrorPatternDetection::test_error_clustering_detection PASSED [ 46%]
tests/test_analysis_module.py::TestErrorPatternDetection::test_no_error_clustering_below_threshold PASSED [ 46%]
tests/test_analysis_module.py::TestSecurityPatternDetection::test_brute_force_detection PASSED [ 46%]
tests/test_analysis_module.py::TestSecurityPatternDetection::test_no_brute_force_below_threshold PASSED [ 46%]
tests/test_analysis_module.py::TestPatternRecognizerStatistics::test_get_statistics PASSED [ 46%]
tests/test_analysis_module.py::TestPatternRecognizerStatistics::test_get_recent_patterns PASSED [ 46%]
tests/test_analysis_module.py::TestPatternRecognizerStatistics::test_get_recent_patterns_with_type_filter PASSED [ 47%]
tests/test_analysis_module.py::TestAnalysisIntegration::test_detector_and_recognizer_together PASSED [ 47%]
tests/test_analysis_module.py::TestAnalysisIntegration::test_module_imports PASSED [ 47%]
tests/test_api_crud.py::TestHealthEndpoints::test_database_health PASSED [ 47%]
tests/test_api_crud.py::TestHealthEndpoints::test_database_stats PASSED  [ 47%]
tests/test_api_crud.py::TestHealthEndpoints::test_database_tables PASSED [ 47%]
tests/test_api_crud.py::TestCRUDOperations::test_create_user PASSED      [ 47%]
tests/test_api_crud.py::TestCRUDOperations::test_read_users PASSED       [ 47%]
tests/test_api_crud.py::TestCRUDOperations::test_read_single_user PASSED [ 47%]
tests/test_api_crud.py::TestCRUDOperations::test_update_user PASSED      [ 47%]
tests/test_api_crud.py::TestCRUDOperations::test_delete_user PASSED      [ 47%]
tests/test_api_crud.py::TestValidation::test_create_user_invalid_email PASSED [ 47%]
tests/test_api_crud.py::TestValidation::test_create_user_missing_required_field PASSED [ 48%]
tests/test_api_crud.py::TestPaginationAndFiltering::test_pagination PASSED [ 48%]
tests/test_api_crud.py::TestPaginationAndFiltering::test_search PASSED   [ 48%]
tests/test_api_crud.py::TestPaginationAndFiltering::test_ordering PASSED [ 48%]
tests/test_api_crud.py::TestErrorHandling::test_not_found_table PASSED   [ 48%]
tests/test_api_crud.py::TestErrorHandling::test_not_found_record PASSED  [ 48%]
tests/test_api_crud.py::TestErrorHandling::test_unauthorized_access PASSED [ 48%]
tests/test_api_first_platform.py::TestAPIFirstPlatformService::test_track_api_usage PASSED [ 48%]
tests/test_api_first_platform.py::TestIntegration::test_full_api_lifecycle PASSED [ 48%]
tests/test_api_gateway.py::TestIntelligentRouter::test_router_initialization PASSED [ 48%]
tests/test_api_gateway.py::TestIntelligentRouter::test_cost_optimized_routing PASSED [ 48%]
tests/test_api_gateway.py::TestIntelligentCache::test_cache_initialization PASSED [ 49%]
tests/test_api_gateway.py::TestIntelligentCache::test_cache_put_and_get PASSED [ 49%]
tests/test_api_gateway.py::TestPolicyEngine::test_policy_engine_initialization PASSED [ 49%]
tests/test_api_gateway.py::TestPolicyEngine::test_add_policy PASSED      [ 49%]
tests/test_api_gateway.py::TestProtocolAdapters::test_rest_adapter PASSED [ 49%]
tests/test_api_gateway.py::TestProtocolAdapters::test_graphql_adapter PASSED [ 49%]
tests/test_api_gateway.py::TestChaosEngineering::test_chaos_service_initialization PASSED [ 49%]
tests/test_api_gateway.py::TestChaosEngineering::test_start_experiment PASSED [ 49%]
tests/test_api_gateway.py::TestCircuitBreaker::test_circuit_breaker_initialization PASSED [ 49%]
tests/test_api_gateway.py::TestCircuitBreaker::test_circuit_breaker_success PASSED [ 49%]
tests/test_api_gateway.py::TestABTesting::test_ab_testing_initialization PASSED [ 49%]
tests/test_api_gateway.py::TestABTesting::test_create_experiment PASSED  [ 50%]
tests/test_api_gateway.py::TestCanaryDeployment::test_canary_service_initialization PASSED [ 50%]
tests/test_api_gateway.py::TestCanaryDeployment::test_start_deployment PASSED [ 50%]
tests/test_api_gateway.py::TestFeatureFlags::test_feature_flag_initialization PASSED [ 50%]
tests/test_api_gateway.py::TestFeatureFlags::test_create_flag PASSED     [ 50%]
tests/test_api_gateway.py::TestAPIGatewayService::test_gateway_initialization PASSED [ 50%]
tests/test_api_gateway_cache_limit.py::test_cache_oversized_item_prevention PASSED [ 50%]
tests/test_api_gateway_cache_limit.py::test_cache_eviction_safety PASSED [ 50%]
tests/test_app.py::test_app_fixture_loads_correctly PASSED               [ 50%]
tests/test_async_session_migration_bug.py::TestAsyncSessionMigrationBug::test_get_session_is_async_generator_function PASSED [ 50%]
tests/test_async_session_migration_bug.py::TestAsyncSessionMigrationBug::test_get_session_returns_async_generator PASSED [ 50%]
tests/test_async_session_migration_bug.py::TestHistoryServiceFix::test_get_recent_conversations_is_async PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestHistoryServiceFix::test_rate_message_in_db_is_async PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestHistoryServiceFix::test_get_recent_conversations_handles_errors_gracefully PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestHistoryServiceFix::test_rate_message_validates_rating PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestUserServiceFix::test_user_service_accepts_session PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestUserServiceFix::test_user_service_works_without_session PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestUserServiceFix::test_get_user_service_returns_singleton PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestUserServiceFix::test_async_methods_are_coroutines PASSED [ 51%]
tests/test_async_session_migration_bug.py::TestDatabaseCompatFix::test_deprecated_functions_issue_warnings PASSED [ 51%]
tests/test_bootstrap_db.py::test_bootstrap_db_encoding PASSED            [ 51%]
tests/test_bug_repro_sqlalchemy_foreign_keys.py::test_sqlalchemy_mapper_configuration PASSED [ 51%]
tests/test_circular_dependency.py::test_circular_dependency_drop PASSED  [ 52%]
tests/test_cli_smoke.py::test_seed_dry_run_returns_zero_subprocess PASSED [ 52%]
tests/test_cli_smoke.py::test_seed_dry_run_returns_zero_runner PASSED    [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_hash_based_sharding_init PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_range_based_sharding_init PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_geographic_sharding_init PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_get_hash_shard PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_get_range_shard PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_get_geographic_shard PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_execute_read_query PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_execute_write_query PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_execute_cross_shard_query PASSED [ 52%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_add_shard PASSED [ 53%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_rebalance_shards PASSED [ 53%]
tests/test_database_sharding.py::TestDatabaseShardingManager::test_shard_stats PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_create_pool PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_acquire_connection PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_release_connection PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_connection_limit PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_get_connection_from_manager PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_release_connection_through_manager PASSED [ 53%]
tests/test_database_sharding.py::TestConnectionPoolManager::test_pool_stats PASSED [ 53%]
tests/test_database_sharding.py::TestDatabaseShard::test_shard_creation PASSED [ 53%]
tests/test_database_sharding.py::TestDatabaseShard::test_shard_with_replicas PASSED [ 54%]
tests/test_database_sharding.py::test_singleton_sharding_manager PASSED  [ 54%]
tests/test_database_sharding.py::test_singleton_pool_manager PASSED      [ 54%]
tests/test_dependency_availability.py::test_import_api_contract_service PASSED [ 54%]
tests/test_dependency_layer_smoke.py::test_get_logger_smoke PASSED       [ 54%]
tests/test_dependency_layer_smoke.py::test_get_settings_smoke PASSED     [ 54%]
tests/test_dependency_layer_smoke.py::test_get_session_smoke PASSED      [ 54%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_blue_green_deployment_creation PASSED [ 54%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_blue_green_deployment_phases PASSED [ 54%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_blue_green_traffic_switch PASSED [ 54%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_canary_deployment_creation PASSED [ 54%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_canary_deployment_gradual_rollout PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_canary_custom_steps PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_rolling_deployment_creation PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_rolling_deployment_replica_update PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_circuit_breaker_closed_state PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_circuit_breaker_opens_on_failures PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_circuit_breaker_fallback PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_health_checks_included PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_deployment_events_logged PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentOrchestrator::test_singleton_instance PASSED [ 55%]
tests/test_deployment_orchestration.py::TestDeploymentMetrics::test_metrics_collection PASSED [ 55%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_starts_closed PASSED [ 56%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_opens_after_threshold PASSED [ 56%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_rejects_when_open PASSED [ 56%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_transitions_to_half_open PASSED [ 56%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_closes_after_success_in_half_open PASSED [ 56%]
tests/test_distributed_resilience.py::TestCircuitBreaker::test_circuit_stats PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryManager::test_retry_on_failure PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryManager::test_exponential_backoff_delay PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryManager::test_idempotency_cache PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryManager::test_retry_budget_exhaustion PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryManager::test_no_retry_on_4xx_errors PASSED [ 56%]
tests/test_distributed_resilience.py::TestRetryBudget::test_budget_allows_initial_retries PASSED [ 57%]
tests/test_distributed_resilience.py::TestRetryBudget::test_budget_blocks_excessive_retries PASSED [ 57%]
tests/test_distributed_resilience.py::TestRetryBudget::test_budget_stats PASSED [ 57%]
tests/test_distributed_resilience.py::TestBulkhead::test_bulkhead_limits_concurrency PASSED [ 57%]
tests/test_distributed_resilience.py::TestBulkhead::test_bulkhead_stats PASSED [ 57%]
tests/test_distributed_resilience.py::TestAdaptiveTimeout::test_records_latency PASSED [ 57%]
tests/test_distributed_resilience.py::TestAdaptiveTimeout::test_calculates_percentiles PASSED [ 57%]
tests/test_distributed_resilience.py::TestAdaptiveTimeout::test_adaptive_timeout_based_on_p95 PASSED [ 57%]
tests/test_distributed_resilience.py::TestFallbackChain::test_uses_primary_when_available PASSED [ 57%]
tests/test_distributed_resilience.py::TestFallbackChain::test_falls_back_on_failure PASSED [ 57%]
tests/test_distributed_resilience.py::TestFallbackChain::test_multi_level_fallback PASSED [ 57%]
tests/test_distributed_resilience.py::TestTokenBucket::test_allows_within_capacity PASSED [ 57%]
tests/test_distributed_resilience.py::TestTokenBucket::test_rejects_over_capacity PASSED [ 58%]
tests/test_distributed_resilience.py::TestTokenBucket::test_refills_tokens PASSED [ 58%]
tests/test_distributed_resilience.py::TestSlidingWindowCounter::test_allows_within_limit PASSED [ 58%]
tests/test_distributed_resilience.py::TestSlidingWindowCounter::test_rejects_over_limit PASSED [ 58%]
tests/test_distributed_resilience.py::TestSlidingWindowCounter::test_window_slides PASSED [ 58%]
tests/test_distributed_resilience.py::TestLeakyBucket::test_allows_within_capacity PASSED [ 58%]
tests/test_distributed_resilience.py::TestLeakyBucket::test_rejects_over_capacity PASSED [ 58%]
tests/test_distributed_resilience.py::TestLeakyBucket::test_leaks_over_time PASSED [ 58%]
tests/test_distributed_resilience.py::TestHealthChecker::test_healthy_check PASSED [ 58%]
tests/test_distributed_resilience.py::TestHealthChecker::test_unhealthy_check PASSED [ 58%]
tests/test_distributed_resilience.py::TestHealthChecker::test_grace_period PASSED [ 58%]
tests/test_distributed_resilience.py::TestDistributedResilienceService::test_creates_circuit_breakers PASSED [ 59%]
tests/test_distributed_resilience.py::TestDistributedResilienceService::test_creates_retry_managers PASSED [ 59%]
tests/test_distributed_resilience.py::TestDistributedResilienceService::test_creates_bulkheads PASSED [ 59%]
tests/test_distributed_resilience.py::TestDistributedResilienceService::test_comprehensive_stats PASSED [ 59%]
tests/test_distributed_resilience.py::TestResilientDecorator::test_resilient_decorator_with_circuit_breaker PASSED [ 59%]
tests/test_distributed_resilience.py::TestResilientDecorator::test_resilient_decorator_with_retry PASSED [ 59%]
tests/test_distributed_resilience.py::TestIntegration::test_circuit_breaker_with_retry PASSED [ 59%]
tests/test_distributed_resilience.py::TestIntegration::test_get_global_service PASSED [ 59%]
tests/test_email_case_insensitivity.py::test_email_case_insensitivity PASSED [ 59%]
tests/test_empty_response_fix.py::test_empty_response_handling_none_content PASSED [ 59%]
tests/test_empty_response_fix.py::test_empty_response_handling_empty_string PASSED [ 59%]
tests/test_empty_response_fix.py::test_empty_response_with_tool_calls PASSED [ 60%]
tests/test_empty_response_fix.py::test_normal_response_still_works PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestQuantumStatementNameGenerator::test_generate_returns_string PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestQuantumStatementNameGenerator::test_generate_has_correct_prefix PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestQuantumStatementNameGenerator::test_generate_unique_names PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestQuantumStatementNameGenerator::test_generate_thread_safety PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestQuantumStatementNameGenerator::test_get_generator_func PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_none_for_empty_url PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_supabase_pooler_by_hostname PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_supabase_pooler_by_port PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_pgbouncer_by_port PASSED [ 60%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_pgbouncer_by_name PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_neon_pooler PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_none_for_direct_connection PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_detect_pgbouncer_from_env PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestAdaptivePoolerDetector::test_requires_prepared_statement_protection PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_normalizes_postgres_protocol PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_translates_ssl_mode_for_async PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_preserves_ssl_mode_for_sync PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_raises_for_missing_url_in_production PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_returns_sqlite_fallback_in_test PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_validates_url_structure PASSED [ 61%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_sanitize_accepts_sqlite_without_host PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_reverse_ssl_for_sync PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizer::test_reverse_ssl_ignores_asyncpg PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizerEdgeCases::test_all_ssl_modes PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizerEdgeCases::test_url_with_special_characters_in_password PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseURLSanitizerEdgeCases::test_url_with_query_params_preserved PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseTypeDetection::test_detect_postgresql PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseTypeDetection::test_detect_sqlite PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestDatabaseTypeDetection::test_detect_unknown PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestPostgresEngineConfiguration::test_auto_upgrade_to_asyncpg PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestPostgresEngineConfiguration::test_statement_cache_disabled PASSED [ 62%]
tests/test_engine_factory_comprehensive.py::TestPostgresEngineConfiguration::test_quantum_naming_enabled PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestPostgresEngineConfiguration::test_command_timeout_default PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestPostgresEngineConfiguration::test_pool_settings_default PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSqliteEngineConfiguration::test_auto_upgrade_to_aiosqlite PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSqliteEngineConfiguration::test_pool_settings_removed PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSqliteEngineConfiguration::test_check_same_thread_disabled PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSecurityValidation::test_validation_passes_with_correct_config PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSecurityValidation::test_validation_fails_with_nonzero_statement_cache PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSecurityValidation::test_validation_fails_with_nonzero_prepared_cache PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSecurityValidation::test_validation_fails_without_name_func PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestSecurityValidation::test_validation_fails_with_non_unique_name_func PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestEngineDiagnostics::test_verify_pgbouncer_compatibility_all_set PASSED [ 63%]
tests/test_engine_factory_comprehensive.py::TestEngineDiagnostics::test_verify_pgbouncer_compatibility_missing_settings PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestCreateUnifiedAsyncEngine::test_create_engine_with_sqlite PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestCreateUnifiedAsyncEngine::test_create_engine_from_env PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestCreateUnifiedAsyncEngine::test_create_engine_with_custom_pool_settings PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestPoolerSignature::test_pooler_signature_immutable PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestPoolerSignature::test_pooler_signatures_list_populated PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestFatalEngineError::test_fatal_error_is_exception PASSED [ 64%]
tests/test_engine_factory_comprehensive.py::TestFatalEngineError::test_fatal_error_message PASSED [ 64%]
tests/test_event_driven_microservices.py::TestDomainEvents::test_user_created_event PASSED [ 64%]
tests/test_event_driven_microservices.py::TestDomainEvents::test_mission_created_event PASSED [ 64%]
tests/test_event_driven_microservices.py::TestDomainEvents::test_event_correlation PASSED [ 64%]
tests/test_event_driven_microservices.py::TestDomainEvents::test_event_registry PASSED [ 65%]
tests/test_event_driven_microservices.py::TestSagaOrchestrator::test_create_saga PASSED [ 65%]
tests/test_event_driven_microservices.py::TestSagaOrchestrator::test_saga_execution_success PASSED [ 65%]
tests/test_event_driven_microservices.py::TestSagaOrchestrator::test_saga_compensation PASSED [ 65%]
tests/test_event_driven_microservices.py::TestSagaOrchestrator::test_saga_events PASSED [ 65%]
tests/test_event_driven_microservices.py::TestServiceMesh::test_register_service PASSED [ 65%]
tests/test_event_driven_microservices.py::TestServiceMesh::test_circuit_breaker PASSED [ 65%]
tests/test_event_driven_microservices.py::TestServiceMesh::test_traffic_splitting PASSED [ 65%]
tests/test_event_driven_microservices.py::TestServiceMesh::test_retry_policy PASSED [ 65%]
tests/test_event_driven_microservices.py::TestDistributedTracing::test_start_trace PASSED [ 65%]
tests/test_event_driven_microservices.py::TestDistributedTracing::test_span_lifecycle PASSED [ 65%]
tests/test_event_driven_microservices.py::TestDistributedTracing::test_trace_context_propagation PASSED [ 66%]
tests/test_event_driven_microservices.py::TestDistributedTracing::test_baggage_propagation PASSED [ 66%]
tests/test_event_driven_microservices.py::TestGraphQLFederation::test_register_schema PASSED [ 66%]
tests/test_event_driven_microservices.py::TestGraphQLFederation::test_schema_composition PASSED [ 66%]
tests/test_event_driven_microservices.py::TestGraphQLFederation::test_schema_sdl_generation PASSED [ 66%]
tests/test_event_driven_microservices.py::TestGraphQLFederation::test_query_execution PASSED [ 66%]
tests/test_event_driven_microservices.py::TestMicroservicesIntegration::test_saga_with_tracing PASSED [ 66%]
tests/test_event_driven_microservices.py::TestMicroservicesIntegration::test_service_mesh_with_tracing PASSED [ 66%]
tests/test_fastapi_health.py::test_health PASSED                         [ 66%]
tests/test_flexible_enum_crash.py::test_flexible_enum_resilience PASSED  [ 66%]
tests/test_frontend_smoke.py::test_frontend_smoke_flow PASSED            [ 66%]
tests/test_head_request_bug.py::test_head_root_endpoint PASSED           [ 67%]
tests/test_head_request_bug.py::test_head_spa_fallback PASSED            [ 67%]
tests/test_head_request_bug.py::test_static_file_head PASSED             [ 67%]
tests/test_head_request_bug.py::test_js_file_head PASSED                 [ 67%]
tests/test_health_bug_verification.py::test_health_bug_verification PASSED [ 67%]
tests/test_health_endpoint.py::test_health_endpoint PASSED               [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_create_load_balancer PASSED [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_register_server PASSED [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_round_robin_routing PASSED [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_least_connections_routing PASSED [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_latency_based_routing PASSED [ 67%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_consistent_hashing PASSED [ 68%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_geographic_routing PASSED [ 68%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_scaling_analysis PASSED [ 68%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_scale_out_execution PASSED [ 68%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_health_check PASSED [ 68%]
tests/test_horizontal_scaling.py::TestHorizontalScalingOrchestrator::test_cluster_stats PASSED [ 68%]
tests/test_horizontal_scaling.py::TestChaosMonkey::test_chaos_monkey_creation PASSED [ 68%]
tests/test_horizontal_scaling.py::TestChaosMonkey::test_enable_disable_chaos PASSED [ 68%]
tests/test_horizontal_scaling.py::TestChaosMonkey::test_chaos_monkey_strike PASSED [ 68%]
tests/test_horizontal_scaling.py::TestServerLoadFactor::test_load_factor_empty PASSED [ 68%]
tests/test_horizontal_scaling.py::TestServerLoadFactor::test_load_factor_half PASSED [ 68%]
tests/test_horizontal_scaling.py::TestServerLoadFactor::test_load_factor_full PASSED [ 68%]
tests/test_horizontal_scaling.py::TestServerLoadFactor::test_server_availability PASSED [ 69%]
tests/test_horizontal_scaling.py::test_singleton_orchestrator PASSED     [ 69%]
tests/test_intelligent_platform.py::TestDataMeshService::test_register_bounded_context PASSED [ 69%]
tests/test_intelligent_platform.py::TestDataMeshService::test_create_data_contract PASSED [ 69%]
tests/test_intelligent_platform.py::TestDataMeshService::test_record_quality_metrics PASSED [ 69%]
tests/test_intelligent_platform.py::TestAIOpsService::test_collect_telemetry PASSED [ 69%]
tests/test_intelligent_platform.py::TestAIOpsService::test_get_service_health PASSED [ 69%]
tests/test_intelligent_platform.py::TestGitOpsService::test_register_application PASSED [ 69%]
tests/test_intelligent_platform.py::TestGitOpsService::test_policy_evaluation PASSED [ 69%]
tests/test_intelligent_platform.py::TestWorkflowOrchestration::test_register_workflow PASSED [ 69%]
tests/test_intelligent_platform.py::TestWorkflowOrchestration::test_get_metrics PASSED [ 69%]
tests/test_intelligent_platform.py::TestEdgeMultiCloud::test_place_workload PASSED [ 70%]
tests/test_intelligent_platform.py::TestEdgeMultiCloud::test_get_metrics PASSED [ 70%]
tests/test_intelligent_platform.py::TestSREService::test_create_slo PASSED [ 70%]
tests/test_intelligent_platform.py::TestSREService::test_deployment_risk_assessment PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_data_mesh_metrics_endpoint PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_aiops_metrics_endpoint PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_gitops_metrics_endpoint PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_platform_overview_endpoint PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_create_data_contract_endpoint PASSED [ 70%]
tests/test_intelligent_platform.py::TestIntelligentPlatformAPI::test_collect_telemetry_endpoint PASSED [ 70%]
tests/test_json_field_persistence.py::test_task_json_field_persistence PASSED [ 70%]
tests/test_json_field_primitive_bug.py::test_json_text_primitive_persistence_bug PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_pod_scheduling_success PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_pod_scheduling_resource_check PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_cluster_initialization PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_healing_events_tracking PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_raft_initial_state PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_raft_log_entry_append PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_raft_consensus_tracking PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_autoscaling_configuration PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_autoscaling_execution PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_node_status_retrieval PASSED [ 71%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_cluster_stats PASSED [ 72%]
tests/test_kubernetes_orchestration.py::TestKubernetesOrchestrator::test_singleton_instance PASSED [ 72%]
tests/test_kubernetes_orchestration.py::TestSelfHealing::test_pod_restart_on_failure PASSED [ 72%]
tests/test_kubernetes_orchestration.py::TestSelfHealing::test_healing_events_recorded PASSED [ 72%]
tests/test_kubernetes_orchestration.py::TestDistributedConsensus::test_election_timeout_mechanism PASSED [ 72%]
tests/test_kubernetes_orchestration.py::TestDistributedConsensus::test_term_incrementation PASSED [ 72%]
tests/test_list_conversations_order_bug.py::test_list_conversations_deterministic_order PASSED [ 72%]
tests/test_login_bug_repro.py::test_login_bug_reproduction PASSED        [ 72%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_default_initialization PASSED [ 72%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_success_factory PASSED [ 72%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_success_factory_custom_message PASSED [ 72%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_failure_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_forbidden_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_forbidden_custom_message PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_unauthorized_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_rate_limited_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_rate_limited_custom_retry PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_bad_request_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultCreation::test_internal_error_factory PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultChaining::test_with_metadata PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultChaining::test_with_metadata_chaining PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultChaining::test_with_details PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultChaining::test_with_details_merges PASSED [ 73%]
tests/test_middleware_core.py::TestMiddlewareResultSerialization::test_to_dict_success PASSED [ 74%]
tests/test_middleware_core.py::TestMiddlewareResultSerialization::test_to_dict_failure_with_error_code PASSED [ 74%]
tests/test_middleware_core.py::TestMiddlewareResultSerialization::test_to_dict_with_details PASSED [ 74%]
tests/test_middleware_core.py::TestMiddlewareResultSerialization::test_to_dict_with_response_data PASSED [ 74%]
tests/test_middleware_core.py::TestMiddlewareResultSerialization::test_to_dict_omits_empty_fields PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksRegistration::test_register_callback PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksRegistration::test_register_multiple_callbacks PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksRegistration::test_register_callbacks_different_events PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksUnregistration::test_unregister_callback PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksUnregistration::test_unregister_nonexistent_callback PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksUnregistration::test_unregister_from_nonexistent_event PASSED [ 74%]
tests/test_middleware_core.py::TestLifecycleHooksTrigger::test_trigger_executes_callbacks PASSED [ 75%]
tests/test_middleware_core.py::TestLifecycleHooksTrigger::test_trigger_passes_arguments PASSED [ 75%]
tests/test_middleware_core.py::TestLifecycleHooksTrigger::test_trigger_handles_callback_errors PASSED [ 75%]
tests/test_middleware_core.py::TestLifecycleHooksTrigger::test_trigger_empty_event PASSED [ 75%]
tests/test_middleware_core.py::TestLifecycleHooksClear::test_clear_specific_event PASSED [ 75%]
tests/test_middleware_core.py::TestLifecycleHooksClear::test_clear_all_events PASSED [ 75%]
tests/test_middleware_core.py::TestGlobalHooksAndDecorators::test_get_global_hooks PASSED [ 75%]
tests/test_middleware_core.py::TestGlobalHooksAndDecorators::test_on_before_execution_decorator PASSED [ 75%]
tests/test_middleware_core.py::TestGlobalHooksAndDecorators::test_on_after_success_decorator PASSED [ 75%]
tests/test_middleware_core.py::TestGlobalHooksAndDecorators::test_on_after_failure_decorator PASSED [ 75%]
tests/test_middleware_core.py::TestGlobalHooksAndDecorators::test_on_after_execution_decorator PASSED [ 75%]
tests/test_middleware_core.py::TestSmartPipelineInit::test_default_initialization PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineInit::test_initialization_with_middlewares PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineAddRemove::test_add_middleware PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineAddRemove::test_add_middleware_sorted_by_order PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineAddRemove::test_remove_middleware PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineAddRemove::test_remove_nonexistent_middleware PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineExecution::test_run_executes_middlewares PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineExecution::test_run_calls_lifecycle_hooks PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineExecution::test_run_short_circuits_on_failure PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineExecution::test_run_handles_middleware_exception PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineExecution::test_run_skips_disabled_middleware PASSED [ 76%]
tests/test_middleware_core.py::TestSmartPipelineAsyncExecution::test_run_async_executes_middlewares PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineAsyncExecution::test_run_async_handles_exception PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineStatistics::test_get_statistics PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineStatistics::test_statistics_track_requests PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineStatistics::test_statistics_track_failures PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineStatistics::test_statistics_per_middleware PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineStatistics::test_reset_statistics PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineHelpers::test_get_middleware_list PASSED [ 77%]
tests/test_middleware_core.py::TestSmartPipelineHelpers::test_repr PASSED [ 77%]
tests/test_middleware_core.py::TestRequestContext::test_default_initialization PASSED [ 77%]
tests/test_middleware_core.py::TestRequestContext::test_custom_initialization PASSED [ 77%]
tests/test_middleware_core.py::TestRequestContext::test_set_trace_context PASSED [ 78%]
tests/test_middleware_core.py::TestRequestContext::test_set_user_context PASSED [ 78%]
tests/test_middleware_core.py::TestRequestContext::test_add_and_get_metadata PASSED [ 78%]
tests/test_middleware_core.py::TestRequestContext::test_get_header_case_insensitive PASSED [ 78%]
tests/test_middleware_core.py::TestRequestContext::test_get_header_default PASSED [ 78%]
tests/test_middleware_core.py::TestRequestContext::test_to_dict PASSED   [ 78%]
tests/test_middleware_frame.py::test_dev_frame_middleware_development PASSED [ 78%]
tests/test_middleware_frame.py::test_dev_frame_middleware_production PASSED [ 78%]
tests/test_missing_api_methods.py::test_missing_api_endpoint_returns_404_not_405 PASSED [ 78%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_model_registration PASSED [ 78%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_model_loading_status PASSED [ 78%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_duplicate_registration_prevention PASSED [ 78%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_serve_request_basic PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_serve_request_model_not_ready PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_serve_request_latest_version PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_ab_test_creation PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_ab_test_request_serving PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_ab_test_analysis PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_shadow_deployment_creation PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_shadow_request_serving PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_shadow_deployment_stats PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_ensemble_creation PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_ensemble_request_serving PASSED [ 79%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_model_unloading PASSED [ 80%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_list_models PASSED [ 80%]
tests/test_model_serving.py::TestModelServingInfrastructure::test_singleton_instance PASSED [ 80%]
tests/test_model_serving.py::TestModelMetrics::test_metrics_tracking PASSED [ 80%]
tests/test_models.py::test_user_set_password PASSED                      [ 80%]
tests/test_models.py::test_user_repr PASSED                              [ 80%]
tests/test_models_comprehensive.py::TestUtcNow::test_returns_datetime PASSED [ 80%]
tests/test_models_comprehensive.py::TestUtcNow::test_returns_utc_timezone PASSED [ 80%]
tests/test_models_comprehensive.py::TestUtcNow::test_returns_current_time PASSED [ 80%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_lookup_by_uppercase_name PASSED [ 80%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_lookup_by_lowercase_value PASSED [ 80%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_lookup_by_uppercase_value PASSED [ 81%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_lookup_by_mixed_case PASSED [ 81%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_invalid_lookup_returns_none PASSED [ 81%]
tests/test_models_comprehensive.py::TestCaseInsensitiveEnum::test_non_string_lookup_returns_none PASSED [ 81%]
tests/test_models_comprehensive.py::TestMessageRoleEnum::test_all_values PASSED [ 81%]
tests/test_models_comprehensive.py::TestMissionStatusEnum::test_all_values PASSED [ 81%]
tests/test_models_comprehensive.py::TestPlanStatusEnum::test_all_values PASSED [ 81%]
tests/test_models_comprehensive.py::TestTaskStatusEnum::test_all_values PASSED [ 81%]
tests/test_models_comprehensive.py::TestMissionEventTypeEnum::test_key_values PASSED [ 81%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_bind_param_with_enum PASSED [ 81%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_bind_param_with_string PASSED [ 81%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_bind_param_with_none PASSED [ 82%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_result_value_returns_enum PASSED [ 82%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_result_value_case_insensitive PASSED [ 82%]
tests/test_models_comprehensive.py::TestFlexibleEnum::test_process_result_value_with_none PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_bind_param_with_dict PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_bind_param_with_list PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_bind_param_with_none PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_bind_param_with_primitive PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_result_value_with_dict PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_result_value_with_list PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_result_value_with_none PASSED [ 82%]
tests/test_models_comprehensive.py::TestJSONText::test_process_result_value_with_invalid_json PASSED [ 83%]
tests/test_models_comprehensive.py::TestJSONText::test_roundtrip_complex_data PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_user_creation PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_set_password PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_check_password_correct PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_check_password_incorrect PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_check_password_no_hash PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_verify_password_alias PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_user_repr PASSED [ 83%]
tests/test_models_comprehensive.py::TestUserModel::test_password_hashing_uses_argon2 PASSED [ 83%]
tests/test_models_comprehensive.py::TestAdminConversationModel::test_conversation_creation PASSED [ 83%]
tests/test_models_comprehensive.py::TestAdminConversationModel::test_conversation_custom_type PASSED [ 84%]
tests/test_models_comprehensive.py::TestAdminMessageModel::test_message_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestAdminMessageModel::test_message_with_all_roles PASSED [ 84%]
tests/test_models_comprehensive.py::TestMissionModel::test_mission_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestMissionModel::test_mission_default_status PASSED [ 84%]
tests/test_models_comprehensive.py::TestMissionPlanModel::test_plan_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestMissionPlanModel::test_plan_json_fields PASSED [ 84%]
tests/test_models_comprehensive.py::TestTaskModel::test_task_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestTaskModel::test_task_json_fields PASSED [ 84%]
tests/test_models_comprehensive.py::TestMissionEventModel::test_event_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestPromptTemplateModel::test_template_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestGeneratedPromptModel::test_prompt_creation PASSED [ 84%]
tests/test_models_comprehensive.py::TestLogMissionEvent::test_creates_event_without_session PASSED [ 85%]
tests/test_models_comprehensive.py::TestUpdateMissionStatus::test_updates_status PASSED [ 85%]
tests/test_models_comprehensive.py::TestPasswordHashingEdgeCases::test_empty_password PASSED [ 85%]
tests/test_models_comprehensive.py::TestPasswordHashingEdgeCases::test_unicode_password PASSED [ 85%]
tests/test_models_comprehensive.py::TestPasswordHashingEdgeCases::test_very_long_password PASSED [ 85%]
tests/test_models_comprehensive.py::TestPasswordHashingEdgeCases::test_special_characters_password PASSED [ 85%]
tests/test_models_comprehensive.py::TestJSONTextEdgeCases::test_empty_dict PASSED [ 85%]
tests/test_models_comprehensive.py::TestJSONTextEdgeCases::test_empty_list PASSED [ 85%]
tests/test_models_comprehensive.py::TestJSONTextEdgeCases::test_unicode_in_json PASSED [ 85%]
tests/test_models_comprehensive.py::TestJSONTextEdgeCases::test_nested_null_values PASSED [ 85%]
tests/test_models_comprehensive.py::TestJSONTextEdgeCases::test_large_json PASSED [ 85%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_set_and_get PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_miss PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_ttl_expiration PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_delete PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_clear PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_lru_eviction PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_cache_stats PASSED [ 86%]
tests/test_multi_layer_cache.py::TestInMemoryCache::test_access_count_update PASSED [ 86%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_cluster_initialization PASSED [ 86%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_slot_calculation PASSED [ 86%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_node_selection PASSED [ 86%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_cache_set_get PASSED [ 87%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_add_node_to_cluster PASSED [ 87%]
tests/test_multi_layer_cache.py::TestRedisClusterCache::test_cluster_stats PASSED [ 87%]
tests/test_multi_layer_cache.py::TestCDNEdgeCache::test_edge_cache_initialization PASSED [ 87%]
tests/test_multi_layer_cache.py::TestCDNEdgeCache::test_edge_cache_get PASSED [ 87%]
tests/test_multi_layer_cache.py::TestCDNEdgeCache::test_edge_cache_set PASSED [ 87%]
tests/test_multi_layer_cache.py::TestCDNEdgeCache::test_edge_cache_invalidation PASSED [ 87%]
tests/test_multi_layer_cache.py::TestCDNEdgeCache::test_edge_stats PASSED [ 87%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_orchestrator_initialization PASSED [ 87%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_hierarchy_cdn_hit PASSED [ 87%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_hierarchy_app_hit PASSED [ 87%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_miss_all_layers PASSED [ 88%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_set_propagation PASSED [ 88%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_invalidation PASSED [ 88%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_overall_stats PASSED [ 88%]
tests/test_multi_layer_cache.py::TestMultiLayerCacheOrchestrator::test_cache_warming PASSED [ 88%]
tests/test_multi_layer_cache.py::TestCacheEntry::test_cache_entry_creation PASSED [ 88%]
tests/test_multi_layer_cache.py::TestCacheEntry::test_entry_expiration PASSED [ 88%]
tests/test_multi_layer_cache.py::TestCacheEntry::test_entry_age PASSED   [ 88%]
tests/test_multi_layer_cache.py::test_singleton_cache_orchestrator PASSED [ 88%]
tests/test_multi_layer_cache.py::test_cache_hit_rate_calculation PASSED  [ 88%]
tests/test_overmind_planning.py::test_base_planner_instantiation PASSED  [ 88%]
tests/test_overmind_planning.py::test_base_planner_generate_plan_raises_not_implemented PASSED [ 89%]
tests/test_overmind_planning.py::test_base_planner_a_generate_plan_raises_not_implemented PASSED [ 89%]
tests/test_overmind_planning.py::test_planner_registration PASSED        [ 89%]
tests/test_overmind_planning.py::test_planner_registration_with_allow_list PASSED [ 89%]
tests/test_overmind_planning.py::test_planner_registration_with_block_list PASSED [ 89%]
tests/test_overmind_planning_config.py::test_default_config_values PASSED [ 89%]
tests/test_overmind_planning_config.py::test_parse_csv PASSED            [ 89%]
tests/test_overmind_planning_config.py::test_parse_bool PASSED           [ 89%]
tests/test_overmind_planning_config.py::test_parse_float PASSED          [ 89%]
tests/test_overmind_planning_config.py::test_parse_int PASSED            [ 89%]
tests/test_preview_headers.py::test_middleware_enabled_in_dev PASSED     [ 89%]
tests/test_preview_headers.py::test_middleware_enabled_in_codespaces PASSED [ 89%]
tests/test_preview_headers.py::test_middleware_disabled_in_production PASSED [ 90%]
tests/test_preview_headers.py::test_headers_removed_in_dev_client PASSED [ 90%]
tests/test_preview_headers.py::test_headers_preserved_in_prod_client PASSED [ 90%]
tests/test_prompt_engineering.py::test_generate_prompt_success PASSED    [ 90%]
tests/test_repro_bug_order.py::test_get_latest_chat_deterministic_order PASSED [ 90%]
tests/test_security_enterprise.py::TestSecureAuthentication::test_password_hashing PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityFinding::test_security_finding_creation PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityFinding::test_security_finding_with_timestamps PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_advanced_risk_score_empty_findings PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_advanced_risk_score_basic PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_advanced_risk_score_ignores_fixed PASSED [ 90%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_advanced_risk_score_ignores_false_positives PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_exposure_factor_high_exposure_paths PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_calculate_exposure_factor_low_exposure_paths PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_predict_future_risk_insufficient_data PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_predict_future_risk_with_data PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_detect_anomalies_insufficient_data PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_detect_anomalies_with_spike PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_developer_score_no_findings PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_developer_score_with_findings PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_developer_score_grading PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_security_debt_no_findings PASSED [ 91%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_security_debt_calculation PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_security_debt_ignores_fixed PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_security_debt_age_multiplier PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_analyze_trends_insufficient_data PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_analyze_trends_with_data PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_moving_average_calculation PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_determine_trend PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_generate_comprehensive_report PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_get_risk_level PASSED [ 92%]
tests/test_security_metrics_engine.py::TestSecurityMetricsEngine::test_generate_recommendations PASSED [ 92%]
tests/test_security_metrics_engine.py::TestIntegration::test_complete_workflow PASSED [ 92%]
tests/test_security_metrics_engine.py::TestIntegration::test_trend_analysis_workflow PASSED [ 93%]
tests/test_security_metrics_engine.py::TestIntegration::test_anomaly_detection_workflow PASSED [ 93%]
tests/test_separation_of_concerns.py::TestServiceBoundaries::test_event_bus_publish_subscribe PASSED [ 93%]
tests/test_separation_of_concerns.py::TestServiceBoundaries::test_circuit_breaker_opens_on_failures PASSED [ 93%]
tests/test_separation_of_concerns.py::TestServiceBoundaries::test_bulkhead_limits_concurrent_requests PASSED [ 93%]
tests/test_separation_of_concerns.py::TestServiceBoundaries::test_api_gateway_response_aggregation PASSED [ 93%]
tests/test_separation_of_concerns.py::TestDataBoundaries::test_database_boundary_access_control PASSED [ 93%]
tests/test_separation_of_concerns.py::TestDataBoundaries::test_saga_successful_execution PASSED [ 93%]
tests/test_separation_of_concerns.py::TestDataBoundaries::test_saga_compensation_on_failure PASSED [ 93%]
tests/test_separation_of_concerns.py::TestDataBoundaries::test_event_sourcing_rebuild_state PASSED [ 93%]
tests/test_separation_of_concerns.py::TestPolicyBoundaries::test_policy_engine_allow_rule PASSED [ 93%]
tests/test_separation_of_concerns.py::TestPolicyBoundaries::test_policy_engine_deny_rule PASSED [ 94%]
tests/test_separation_of_concerns.py::TestPolicyBoundaries::test_security_pipeline_all_layers PASSED [ 94%]
tests/test_separation_of_concerns.py::TestPolicyBoundaries::test_data_governance_classification PASSED [ 94%]
tests/test_separation_of_concerns.py::TestPolicyBoundaries::test_compliance_engine_validation PASSED [ 94%]
tests/test_separation_of_concerns.py::TestIntegration::test_end_to_end_create_order_scenario PASSED [ 94%]
tests/test_separation_of_concerns.py::TestIntegration::test_global_instances_singleton PASSED [ 94%]
tests/test_separation_of_concerns.py::TestPerformance::test_event_bus_throughput PASSED [ 94%]
tests/test_separation_of_concerns.py::TestPerformance::test_policy_engine_evaluation_speed PASSED [ 94%]
tests/test_settings_smoke.py::test_settings_validation_error_on_missing_required_fields PASSED [ 94%]
tests/test_spa_fallback_fix.py::test_spa_fallback_nested_api_fix PASSED  [ 94%]
tests/test_static_api_path_bug.py::test_static_file_with_api_in_path_should_be_served PASSED [ 94%]
tests/test_static_routing_fix.py::test_serve_root PASSED                 [ 94%]
tests/test_static_routing_fix.py::test_serve_css PASSED                  [ 95%]
tests/test_static_routing_fix.py::test_spa_fallback PASSED               [ 95%]
tests/test_static_routing_fix.py::test_api_404 PASSED                    [ 95%]
tests/test_static_routing_fix.py::test_serve_specific_html PASSED        [ 95%]
tests/test_static_routing_fix.py::test_directory_traversal_prevention PASSED [ 95%]
tests/test_streaming_event_type_bug.py::test_chat_stream_has_delta_event_type PASSED [ 95%]
tests/test_stub_bug_fix.py::test_chat_stream_is_real_implementation PASSED [ 95%]
tests/test_superhuman_system.py::test_basic_request PASSED               [ 95%]
tests/test_system_healthz_bug.py::test_healthz_endpoint_failure PASSED   [ 95%]
tests/test_unified_observability.py::TestTraceContext::test_trace_context_creation PASSED [ 95%]
tests/test_unified_observability.py::TestTraceContext::test_trace_context_from_headers PASSED [ 95%]
tests/test_unified_observability.py::TestTraceContext::test_trace_context_to_headers PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_anomaly_detection PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_baggage_propagation PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_child_spans PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_counter_and_gauge PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_error_tracking PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_golden_signals PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_percentile_calculation PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_prometheus_export PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_record_metrics PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_service_dependencies PASSED [ 96%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_span_events PASSED [ 97%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_start_and_end_trace PASSED [ 97%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_statistics PASSED [ 97%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_structured_logging_with_correlation PASSED [ 97%]
tests/test_unified_observability.py::TestUnifiedObservabilityService::test_trace_search PASSED [ 97%]
tests/test_unified_observability.py::TestObservabilitySingleton::test_singleton_instance PASSED [ 97%]
tests/test_unified_observability.py::TestSamplingStrategies::test_always_sample_errors PASSED [ 97%]
tests/test_unified_observability.py::TestSamplingStrategies::test_head_based_sampling PASSED [ 97%]
tests/transcendent_v2/test_history_service_post_migration.py::test_rate_message_success PASSED [ 97%]
tests/transcendent_v2/test_history_service_post_migration.py::test_rate_message_permission_denied PASSED [ 97%]
tests/transcendent_v2/test_history_service_post_migration.py::test_get_recent_conversations_success PASSED [ 97%]
tests/transcendent_v2/test_history_service_post_migration.py::test_get_recent_conversations_returns_empty_on_error PASSED [ 98%]
tests/unit/services/test_database_service.py::test_create_and_get_record PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestMessageRoleEnum::test_lowercase_lookup PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestMessageRoleEnum::test_uppercase_lookup PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestMessageRoleEnum::test_mixed_case_lookup PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestMessageRoleEnum::test_all_roles PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestMissionStatusEnum::test_all_statuses PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestTaskStatusEnum::test_all_statuses PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestDatabaseIntegration::test_create_and_read_admin_message PASSED [ 98%]
tests/unit/test_enum_case_sensitivity.py::TestDatabaseIntegration::test_simulate_supabase_uppercase PASSED [ 98%]
tests/unit/test_log_mission_event_double_encoding_bug.py::test_log_mission_event_payload_not_double_encoded PASSED [ 98%]
tests/unit/test_log_mission_event_double_encoding_bug.py::test_mission_event_payload_json_round_trip PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_strip_markdown_fences_basic PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_strip_markdown_fences_no_language PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_strip_markdown_fences_no_fences PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_strip_markdown_fences_empty PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_basic PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_nested PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_with_markdown PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_none_found PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_incomplete PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_with_escapes PASSED [ 99%]
tests/utils/test_text_processing.py::TestTextProcessing::test_extract_first_json_object_with_braces_in_string PASSED [100%]

=============================== warnings summary ===============================
../home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/_pytest/config/__init__.py:1397
  /home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/_pytest/config/__init__.py:1397: PytestConfigWarning: Unknown config option: env

    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================= 1119 passed, 1 warning in 178.94s (0:02:58) ==================
