[pytest]
# ======================================================================================
# PYTEST CONFIGURATION - COGNIFORGE TEST UNIVERSE
# ======================================================================================
# This file configures pytest behavior and test discovery.
# Environment variables are set in tests/conftest.py before any imports.

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test directory
testpaths = tests

# Console output options
console_output_style = progress
addopts = 
    --verbose
    --strict-markers
    --tb=short
    --timeout=60
    --timeout-method=thread

# Filter out known warnings from dependencies only
filterwarnings =
    ignore::FutureWarning:transformers.utils.hub
    ignore::ResourceWarning:asyncio
    ignore::ResourceWarning:_pytest

# Markers for categorizing tests
markers =
    db: Marks tests that require database access
    slow: Marks tests that take a long time to run
    integration: Marks integration tests
    unit: Marks unit tests
    asyncio: Marks async tests that use asyncio
    
# Timeout settings (default 60 seconds per test)
timeout = 60
timeout_method = thread
