# ๐ต๏ธ ุชุดุฎูุต ูุดููุฉ ุงููุตูู ููุชุทุจูู ุนุจุฑ ุงููููุฐ 3000

## ุงูููุฎุต ุงูุชูููุฐู (Executive Summary)
ุฃูุช ุบูุฑ ูุงุฏุฑ ุนูู ุงููุตูู ููุชุทุจูู (Next.js) ุนุจุฑ ุงููููุฐ 3000 ูุฃู **ููุงู ุฎุฏูุฉ ุฃุฎุฑู (Kubernetes Ingress Controller) ุชุญุชู ูุฐุง ุงููููุฐ ุจุงููุนู**. ุนูุฏ ูุญุงููุชู ุงููุตููุ ูููู ุงููุชุตูุญ ุจุงูุงุชุตุงู ุจุฎุฏูุฉ ุงูู Ingress ุจุฏูุงู ูู ุชุทุจูููุ ููุง ูุคุฏู ูุธููุฑ ุดูุงุฏุฉ ูุฒููุฉ (Fake Certificate) ูุฎุทุฃ 404.

## ุงูุฃุฏูุฉ ูุงูุชุญููู (Evidence & Analysis)

### 1. ุดูุงุฏุฉ ุงูุฃูุงู ุงููุฒููุฉ (The Smoking Gun)
ูู ููุทุฉ ุงูุดุงุดุฉ (`Screenshot_20260212-015240.png`)ุ ุชุธูุฑ ุชูุงุตูู ุงูุดูุงุฏุฉ ุจูุถูุญ:
- **ISSUED TO:** `Kubernetes Ingress Controller Fake Certificate`
- **ISSUED BY:** `Kubernetes Ingress Controller Fake Certificate`
- **Organization:** `Acme Co`

ูุฐู ุงูุดูุงุฏุฉ ูู ุงูุดูุงุฏุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุชู ูููุฏูุง **Nginx Ingress Controller** ุนูุฏูุง ูุง ูุฌุฏ ุดูุงุฏุฉ ุตุงูุญุฉ ููุงุณู ุงููุถูู (Hostname) ุงููุทููุจ. ุธููุฑูุง ุนูุฏ ุทูุจ ุงููููุฐ 3000 ูุนูู ูุทุนุงู ุฃูู ุชุชุตู ุจุฎุงุฏู Ingress Controllerุ ูููุณ ุจุชุทุจูู Next.js.

### 2. ุฎุทุฃ Nginx 404
ูู ููุทุฉ ุงูุดุงุดุฉ (`Screenshot_20260212-015441.png`)ุ ูุธูุฑ ุฎุทุฃ `404 Not Found` ูุน ูููุฉ `nginx` ูู ุงูุฃุณูู.
ูุฐุง ูุคูุฏ ุฃู ุงูุงุชุตุงู ูุตู ุฅูู ุฎุงุฏู Nginxุ ูููู ูู ูุฌุฏ ุฃู ูุงุนุฏุฉ ุชูุฌูู (Route/Ingress Rule) ุชุทุงุจู ุงูุทูุจุ ูุฑุฏ ุจุฎุทุฃ 404. ุชุทุจูู Next.js ุนุงุฏุฉู ูุง ูุธูุฑ ุตูุญุฉ 404 ูุฎุตุตุฉ ุจุชุตููู ูุฎุชูู.

## ุงูุณุจุจ ุงูุฌุฐุฑู (Root Cause)
ููุงู **ุชุนุงุฑุถ ูู ุงูููุงูุฐ (Port Conflict)**.
ุฌูุงุฒู (ุฃู ุงูุจูุฆุฉ ุงูุชู ุชุนูู ุนูููุง) ูุญุชูู ุนูู ุฎุฏูุฉ Kubernetes Ingress Controller ููุฏ ุงูุชุดุบูู ูุชุณุชูุน ุนูู ุงููููุฐ 3000. ูุฏ ูููู ูุฐุง ุจุณุจุจ:
1. **ุชูููู ูุญูู ุฎุงุทุฆ:** ุงุณุชุฎุฏุงู `minikube` ุฃู `kind` ุฃู `Docker Desktop Kubernetes` ูุน ุชูุฌูู ุงููููุฐ 80/443 ููู Ingress ุฅูู ุงููููุฐ 3000 ุนูู ุงููุถูู.
2. **ุนูููุฉ ุนุงููุฉ:** ูุฌูุฏ ุญุงููุฉ ูุฏููุฉ ุฃู ุฎุฏูุฉ ุฃุฎุฑู (ูู ูุดุฑูุน ุณุงุจู) ูู ูุชู ุฅููุงููุง ุจุดูู ุตุญูุญ ููุง ุฒุงูุช ุชุญุชุฌุฒ ุงููููุฐ 3000.
3. **ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ:** ูู ุจูุฆุงุช ูุซู GitHub Codespacesุ ูุฏ ูููู ููุงู ุฎุฏูุฉ ุฏุงุฎููุฉ ุชุนูู ุนูู ูุฐุง ุงููููุฐ.

ุจูุง ุฃูู ููุช ุจุชุดุบูู ุงูุชุทุจูู (ุงูุฐู ูุญุงูู ุฃูุถุงู ุญุฌุฒ ุงููููุฐ 3000)ุ ูุฅู ุฃุญุฏ ุงูุฃูุฑูู ุญุฏุซ:
- ุฅูุง ุฃู ุชุทุจููู ูุดู ูู ุงูุจุฏุก (ุจุณุจุจ `Address already in use`).
- ุฃู ุฃู ุชุทุจููู ุจุฏุฃ ุฏุงุฎู ุงูุญุงููุฉุ ููู ุนูุฏ ุทูุจ ุงููููุฐ 3000 ูู ุงููุชุตูุญุ ุงููุธุงู ูุนุทูู ุงูุฃููููุฉ ููุฎุฏูุฉ ุงูุฃุฎุฑู (Ingress) ุงูุชู ุชุนูู ุนูู ููุณ ุงููููุฐ ูู ุงููุถูู.

## ุฎุทูุงุช ุงูุชุญูู (Verification Steps)
ููููู ุงูุชุฃูุฏ ูู ุตุญุฉ ุงูุชุดุฎูุต ุจุชูููุฐ ุงูุฃูุงูุฑ ุงูุชุงููุฉ ูู ุงูุทุฑููุฉ (Terminal):

1. **ูุนุฑูุฉ ุงูุนูููุฉ ุงูุชู ุชุญุฌุฒ ุงููููุฐ 3000:**
   ```bash
   sudo lsof -i :3000
   # ุฃู
   netstat -tulnp | grep 3000
   ```
   ุฅุฐุง ุฑุฃูุช ุนูููุฉ ุจุงุณู `docker-proxy` ุฃู `nginx` ุฃู `kube-proxy`ุ ููุฐุง ูุคูุฏ ุงูุชุนุงุฑุถ.

2. **ูุญุต ุญุงููุงุช Docker:**
   ```bash
   docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Ports}}"
   ```
   ุงุจุญุซ ุนู ุฃู ุญุงููุฉ (ุบูุฑ ุชุทุจููู) ุชููู ุจุชูุฌูู ุงููููุฐ `0.0.0.0:3000`. ูุฏ ุชุฌุฏ ุญุงููุฉ ุจุงุณู `k8s_ingress_...` ุฃู ูุดุงุจู.

3. **ูุญุต ุฎุฏูุงุช Kubernetes (ุฅุฐุง ูุงู ูุฏูู `kubectl`):**
   ```bash
   kubectl get svc --all-namespaces
   ```
   ุชุญูู ููุง ุฅุฐุง ูุงูุช ููุงู ุฎุฏูุฉ ูู ููุน `NodePort` ุฃู `LoadBalancer` ุชุณุชุฎุฏู ุงููููุฐ 3000.

## ุงูุญู ุงูููุชุฑุญ (Proposed Solution)
ูุญู ุงููุดููุฉุ ูุฌุจ ุนููู **ุฅููุงู ุงูุฎุฏูุฉ ุงููุชุนุงุฑุถุฉ** ูุชูููู ุชุทุจููู ูู ุงุณุชุฎุฏุงู ุงููููุฐ 3000.

1. ุฃููู ุฃู ุนูููุฏ Kubernetes ูุญูู (ูุซู `minikube stop` ุฃู `kind delete cluster`).
2. ุชุฃูุฏ ูู ุฅููุงู ุฃู ุญุงููุงุช Docker ูุฏููุฉ: `docker rm -f $(docker ps -aq)`.
3. ุฃุนุฏ ุชุดุบูู ุชุทุจููู: `docker-compose up -d`.

---
*ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุชูุฑูุฑ ุจูุงุกู ุนูู ุชุญููู ุงูุฃุฏูุฉ ุงูููุฏูุฉ (ููุทุงุช ุงูุดุงุดุฉ) ููููููุฉ ุงููุดุฑูุน.*
