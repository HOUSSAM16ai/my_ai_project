"""
مبادئ الوكلاء الأذكياء والأنظمة متعددة الوكلاء.

هذا الملف يمثل "بيانات كمصدر للحقيقة" لتوثيق مبادئ الوكلاء
وتطبيقها بشكل برمجي قابل للقراءة والتحقق ضمن المشروع.
"""

from __future__ import annotations

from dataclasses import dataclass
from os import environ
from typing import Mapping


@dataclass(frozen=True)
class AgentPrinciple:
    """تمثيل مبدأ واحد لأنظمة الوكلاء."""

    number: int
    statement: str


AGENT_PRINCIPLES: tuple[AgentPrinciple, ...] = (
    AgentPrinciple(1, "الوكيل الذكي هو نظام مستقل قادر على اتخاذ القرارات وتنفيذ الإجراءات بشكل ذاتي لتحقيق أهداف محددة."),
    AgentPrinciple(2, "يتميّز الوكيل الذكي بقدرته على العمل باستقلالية دون حاجة لتدخّل بشري مستمر."),
    AgentPrinciple(3, "الاعتمادية التامة على التعليمات البشرية في كل خطوة ليست من الخصائص النموذجية للوكيل الذكي."),
    AgentPrinciple(4, "نظام الوكلاء المتعدّدين هو نظام يتكوّن من عدد من الوكلاء الأذكياء المستقلين الذين يتفاعلون ضمن بيئة مشتركة لتحقيق أهداف قد تكون مشتركة أو فردية."),
    AgentPrinciple(5, "ليس صحيحًا أن جميع الوكلاء في النظام متعدد الوكلاء يمتلكون الهدف نفسه تمامًا دون أي اختلاف."),
    AgentPrinciple(6, "فائدة النظام متعدد الوكلاء هي تمكين تقسيم المهام المعقّدة بين عدة وكلاء والعمل عليها بالتوازي مما يرفع الكفاءة والسرعة."),
    AgentPrinciple(7, "التواصل بين الوكلاء عنصر أساسي لضمان تحقيق التنسيق والتعاون الفعّال في أنظمة الوكلاء المتعدّدين."),
    AgentPrinciple(8, "يعتمد الوكيل الذكي عادةً على أجهزة استشعار لجمع المعلومات من البيئة وعلى منفّذات للتأثير في البيئة وتنفيذ الإجراءات."),
    AgentPrinciple(9, "ليس من الضروري أن تكون جميع الوكلاء متطابقة تمامًا في التصميم والوظيفة داخل النظام متعدد الوكلاء حتى ينجح التعاون."),
    AgentPrinciple(10, "يمكن للنظام متعدد الوكلاء أن يعمل بكفاءة دون وجود وكيل مركزي يتحكم في جميع الوكلاء الفرعيين."),
    AgentPrinciple(11, "مثال صحيح على نظام متعدد الوكلاء هو فريق من الروبوتات المستقلة يتعاون في مستودع لتنظيم وترتيب البضائع معًا."),
    AgentPrinciple(12, "قد يكون بعض الوكلاء في نظام متعدد الوكلاء متنافسين فيما بينهم بدلًا من متعاونين حسب طبيعة أهدافهم."),
    AgentPrinciple(13, "التعاون بين الوكلاء يعني أنهم يعملون معًا بشكل منسجم لتحقيق هدف مشترك."),
    AgentPrinciple(14, "التنسيق بين الوكلاء يهدف إلى مواءمة تصرّفاتهم وجدولة أدوارهم بطريقة تمنع التعارض وتحقق التكامل الفعّال."),
    AgentPrinciple(15, "من الخصائص الرئيسية التي تميّز الوكيل الذكي الاستقلالية والتفاعلية (ويمكن أيضًا المبادرة والقدرة الاجتماعية)."),
    AgentPrinciple(16, "بيئة الوكيل هي المحيط الذي يستشعر منه الوكيل المعلومات ويؤثر فيه بالأفعال لتحقيق أهدافه."),
    AgentPrinciple(17, "تمكّن أنظمة الوكلاء المتعدّدين من حل مهام معقّدة قد يصعب على وكيل منفرد إنجازها وحده."),
    AgentPrinciple(18, "ليست كل أنظمة الوكلاء المتعدّدين لامركزية تمامًا؛ فقد تكون مركزية أو هجينة أو لامركزية."),
    AgentPrinciple(19, "يمكن أن تتكوّن أنظمة الوكلاء المتعدّدين من وكلاء برمجية أو روبوتية فيزيائية أو مزيج من الاثنين."),
    AgentPrinciple(20, "إذا كان الوكلاء متطابقين في السلوك والوظيفة فالنظام متجانس، وإذا اختلفت أدوارهم وقدراتهم فالنظام غير متجانس."),
    AgentPrinciple(21, "الدافع الرئيسي للتنسيق والتعاون هو أن تجزئة المشكلة وتبادل المعلومات بين الوكلاء يتيح حل مشكلات لا يستطيع وكيل منفرد حلها بكفاءة."),
    AgentPrinciple(22, "يتطلب التعاون بين الوكلاء هدفًا مشتركًا أو مصالح متوافقة تدفعهم للعمل معًا بدل التضارب."),
    AgentPrinciple(23, "يمكن للوكلاء تحقيق تنسيق دون تواصل صريح مباشر عبر تأثير غير مباشر في بيئة مشتركة (كما في ظواهر شبيهة بالفرمونات)."),
    AgentPrinciple(24, "البروتوكول هو مجموعة قواعد تنظّم التواصل بين الوكلاء وتحدد صيغ الرسائل وخطوات التفاعل لضمان تفاهم وتنسيق صحيح."),
    AgentPrinciple(25, "لغة FIPA-ACL هي مثال على بروتوكول/لغة معيارية لتواصل الوكلاء برسائل ذات معاني محددة."),
    AgentPrinciple(26, "تتضمن رسائل تواصل الوكلاء أفعالًا كلامية مثل الإخبار والطلب والاقتراح لتحديد نية الرسالة."),
    AgentPrinciple(27, "تعد KQML من أوائل لغات اتصال الوكلاء التي طُوّرت لتبادل المعرفة والطلبات بين الوكلاء."),
    AgentPrinciple(28, "الوكيل غير الصادق قد يخرق البروتوكولات أو يرسل معلومات مضللة لتحقيق مصلحته، مما يخلق تحديات ثقة وأمان."),
    AgentPrinciple(29, "التعاون يعني العمل نحو هدف مشترك، بينما التنسيق يعني تنظيم الأدوار والتوقيت وتفادي التعارض لتحقيق الانسجام."),
    AgentPrinciple(30, "يمكن للوكلاء اتخاذ قرار جماعي عبر التصويت أو الإجماع أو انتخاب قائد أو التفاوض المنظم للوصول إلى خطة مشتركة."),
    AgentPrinciple(31, "بروتوكول العقد الصافي (Contract Net) يوزّع المهام بأن يعلن وكيل عن مهمة ويتلقى عروضًا من وكلاء منفذين لتنفيذها."),
    AgentPrinciple(32, "في Contract Net يُختار عادةً الوكيل الفائز وفق أفضل عرض من حيث الكلفة أو الوقت أو الكفاءة المطلوبة."),
    AgentPrinciple(33, "التفويض هو إسناد وكيل مهمة فرعية أو صلاحية لوكيل آخر لينفذها بالنيابة عنه."),
    AgentPrinciple(34, "قد تستخدم أنظمة الوكلاء المتعدّدة آليات تفاوض مثل المزادات أو المساومة لتوزيع الموارد وحل النزاعات وتجنب التضارب."),
    AgentPrinciple(35, "نهج مناسب لحل نزاع بين وكيلين هو التفاوض وفق بروتوكول يسمح بعروض وحلول وسط بدل الصراع غير المنضبط."),
    AgentPrinciple(36, "من التحديات الشائعة تكرار العمل بين الوكلاء عند ضعف التنسيق، بحيث ينفذ أكثر من وكيل المهمة نفسها دون قصد."),
    AgentPrinciple(37, "منافسة الوكلاء على موارد محدودة قد تتطلب تشاركًا منظمًا أو تفاوضًا على حصص الاستخدام."),
    AgentPrinciple(38, "الذكاء الجماعي (Swarm Intelligence) هو سلوك جماعي ذكي ينشأ من تفاعل وحدات بسيطة لامركزيًا وبشكل ذاتي التنظيم."),
    AgentPrinciple(39, "السلوك الناشئ يظهر عندما يؤدي تفاعل الوكلاء محليًا دون تحكم مركزي إلى نمط ذكي على مستوى المجموعة لا يُستنتج من الأفراد وحدهم."),
    AgentPrinciple(40, "مثال للسلوك الناشئ هو أن مستعمرة النمل تستطيع إيجاد مسارات فعّالة عبر قواعد محلية بسيطة، أو أن سرب روبوتات ينسق تشكيلًا دون قائد."),
    AgentPrinciple(41, "من مزايا الأنظمة متعددة الوكلاء القابلية للتوسع عبر إضافة وكلاء جدد لتحسين الأداء أو توسيع نطاق العمل."),
    AgentPrinciple(42, "ليس من التحديات المعتادة “توحيد الأهداف تمامًا دون أي تضارب” لأن التضارب ممكن ويستلزم إدارة، أما إدارة التواصل وتخصيص الموارد ومنع التكرار فهي تحديات فعلية."),
    AgentPrinciple(43, "الوكلاء غير المتجانسين يختلفون في القدرات أو الأدوار أو التصميم، بينما الوكلاء المتجانسون متطابقون تقريبًا في الوظائف والسلوك."),
    AgentPrinciple(44, "في التعليم يمكن تصميم وكيل معلم ووكيل طالب يتفاعلان لتوفير تعلم تكيفي مخصص لكل طالب."),
    AgentPrinciple(45, "تطبيق تعليمي متعدد الوكلاء يمكن أن يجمع بين وكيل معلّم يكيّف المحتوى ووكيل مساعد يراقب التفاعل ويقدم تغذية راجعة فورية."),
    AgentPrinciple(46, "في الطب يمكن لوكلاء متعدّدين أن يتعاونوا لتشخيص جماعي أدق بتخصصات مختلفة ثم دمج النتائج في توصية موحدة."),
    AgentPrinciple(47, "مثال طبي متعدد الوكلاء هو وكيل يجمع سجلات المريض وآخر يحلل الصور وثالث يقترح التشخيص ثم يتشاركون للوصول إلى قرار داعم للطبيب."),
    AgentPrinciple(48, "في التمويل يمكن لوكلاء متعدّدين التعاون بحيث يختص كل وكيل بتحليل مختلف (أخبار/فني/مخاطر) ثم تُدمج إشاراتهم لاتخاذ قرار استثماري أفضل."),
    AgentPrinciple(49, "مثال مالي صحيح هو عدة وكلاء تداول بخوارزميات مختلفة يتبادلون الإشارات لاتخاذ قرار شراء أو بيع أكثر دقة."),
    AgentPrinciple(50, "في الصناعة يمكن لوكلاء متعددين تنسيق سلسلة التوريد عبر تواصل وكلاء المخزون والشحن والموردين لتقليل التأخير والهدر."),
    AgentPrinciple(51, "في مصنع ذكي يمكن لوكلاء مراقبة خطوط الإنتاج وجودة المخرجات أن يتواصلوا لتنظيم السرعة وطلب الصيانة الوقائية عند الحاجة."),
    AgentPrinciple(52, "في الصيانة التنبؤية يمكن لوكلاء استشعار على الآلات إرسال مؤشرات مبكرة لوكيل تنسيقي ليجدول صيانة وقائية دون تعطيل الإنتاج."),
    AgentPrinciple(53, "في الفلاحة يمكن لوكلاء مراقبة بيئية موزعين متابعة الرطوبة والري والآفات بشكل جماعي لتمكين إدارة ذكية للمحاصيل."),
    AgentPrinciple(54, "مثال زراعي هو سرب درونز يتعاون لمسح الحقول ورش المبيدات وفق خطة مشتركة متناسقة."),
    AgentPrinciple(55, "يمكن للوكلاء تحسين إدارة المزرعة عبر وكلاء استشعار للتربة تتعاون مع وكلاء الري لضبط الجداول بدقة، ووكلاء روبوتات حصاد تقسّم العمل وتتجنب التصادم والتكرار."),
    AgentPrinciple(56, "نموذج اللوح (Blackboard) يتيح للوكلاء مشاركة المعرفة عبر الكتابة والقراءة من مساحة بيانات مشتركة بدل المراسلة المباشرة دائمًا."),
    AgentPrinciple(57, "في نظام اللوح يتواصل الوكلاء بشكل غير مباشر عبر تحديث “لوح” مشترك يقرأ منه الآخرون ويستجيبون بناءً على المعلومات الجديدة."),
    AgentPrinciple(58, "التصويت مفيد لاتخاذ قرار جماعي سريع عندما توجد خيارات متعددة ويكفي قرار بالأغلبية لتحقيق الهدف دون الحاجة لإجماع كامل."),
    AgentPrinciple(59, "يمكن للوكلاء استخدام المساومة أثناء التفاوض عبر تبادل عروض مضادة حتى الوصول لاتفاق مقبول للطرفين حول موارد أو مهام."),
    AgentPrinciple(60, "تعلّم التعاون بين الوكلاء (مثل MARL) تحدٍّ متقدم لأن الوكلاء يجب أن يتعلموا استراتيجيات تعظم المنفعة الجماعية لا الفردية فقط."),
    AgentPrinciple(61, "البنية اللامركزية تزيد المرونة والموثوقية لأنها تقلل نقطة الفشل الواحدة، بحيث لا يؤدي تعطل وكيل واحد لانهيار النظام كله."),
    AgentPrinciple(62, "من عيوب النهج المركزي أنه قد يصبح نقطة اختناق ويتسبب ببطء الأداء أو فشل النظام إذا تعطل الوكيل المركزي."),
    AgentPrinciple(63, "الأنظمة اللامركزية أكثر تحملًا للأعطال لكنها تتطلب خوارزميات أعقد لتحقيق الاتفاق والتنظيم بين الوكلاء."),
    AgentPrinciple(64, "في النظام المركزي ميزة التحكم الموحد وعيبه نقطة الفشل/الاختناق، وفي النظام اللامركزي ميزة المرونة والتوسع وعيبه صعوبة التنسيق وضمان الاتفاق."),
    AgentPrinciple(65, "بنية BDI نموذج معرفي متقدم يمثل معتقدات الوكيل ورغباته ونواياه كأساس للتخطيط واتخاذ القرار."),
    AgentPrinciple(66, "BDI تعني Belief-Desire-Intention أي معتقدات ورغبات ونوايا الوكيل."),
    AgentPrinciple(67, "خوارزمية مستعمرة النمل تحاكي تراكم “فرمونات” افتراضية لتوجيه البحث نحو حلول أفضل تدريجيًا، وخوارزمية أسراب الجسيمات تحاكي تحرك السرب نحو أفضل المواقع الفردية والجماعية."),
    AgentPrinciple(68, "JADE منصة لتطوير أنظمة متعددة الوكلاء تدعم معايير FIPA وتوفر خدمات اتصال وإدارة دورة حياة الوكلاء."),
    AgentPrinciple(69, "JADE إطار مخصص لبناء وتشغيل أنظمة متعددة الوكلاء مقارنةً بمكتبات عامة مثل NumPy أو أدوات تشغيل مثل Docker."),
    AgentPrinciple(70, "AutoGPT ينجز المهام متعددة الخطوات ذاتيًا بتقسيم الهدف وتنفيذ خطوات متكررة، وLangChain/LangGraph ينظم بناء الوكلاء وتدفق العمل بينهم كرسم بياني مع إدارة الحالة والذاكرة."),
    AgentPrinciple(71, "هدف ReAct هو الجمع بين الاستدلال واتخاذ الأفعال بحيث ينتج الوكيل خطوات تفكير وأفعال متعاقبة لحل مهمة تفاعليًا."),
    AgentPrinciple(72, "ReAct تقوم على التناوب بين التفكير والإجراء مثل استدعاء أداة أو خطوة وسيطة بناءً على الاستدلال."),
    AgentPrinciple(73, "بروتوكول SMTP ليس تقنية خاصة بالوكلاء التفاعليين، بل هو بروتوكول نقل البريد الإلكتروني."),
    AgentPrinciple(74, "HuggingGPT مثال لنهج ينسق فيه وكيل مركزي مدعوم بنموذج لغة تعاون نماذج/وكلاء خبراء (رؤية/صوت/… ) لحل مهمة مركبة."),
    AgentPrinciple(75, "الوكلاء التوليديون يتميزون بسلوك تفاعلي ديناميكي وذاكرة طويلة المدى وقدرة على التطور عبر الزمن بفضل النماذج التوليدية، بخلاف الوكلاء التقليديين ذوي السلوك الأكثر صرامة ومهام محددة."),
    AgentPrinciple(76, "إدخال التعلم الذاتي في أنظمة متعددة الوكلاء يرفع تحديات الأمان لاحتمال تعلم سلوك غير مرغوب أو التأثر بمدخلات خبيثة تؤدي لانحراف جماعي."),
    AgentPrinciple(77, "مشكلة إسناد الفضل (Credit Assignment) هي صعوبة تحديد إسهام كل وكيل في النتيجة الجماعية وبالتالي صعوبة مكافأته أو تدريبه بدقة."),
    AgentPrinciple(78, "من الاعتبارات الأخلاقية أن المسؤولية تصبح ضبابية عندما يتسبب قرار جماعي للوكلاء بضرر، لذا يجب تحديد المساءلة بوضوح."),
    AgentPrinciple(79, "آليات الحوافز توجه سلوك الوكلاء المستقلين نحو التعاون أو مشاركة المعلومات عبر مكافآت/تعزيزات دون تحكم مركزي صارم."),
    AgentPrinciple(80, "يمكن تعزيز الثقة بين الوكلاء عبر سمعة رقمية وتقييمات، وتوثيق الرسائل بتواقيع رقمية، والتحقق من السلامة، وعدم الاعتماد على وكيل واحد في قرارات حرجة."),
    AgentPrinciple(81, "في البيئات عالية الخطورة يُستحسن إدخال الإنسان في الحلقة للإشراف أو اعتماد القرارات الحرجة لضمان السلامة والمساءلة."),
    AgentPrinciple(82, "من جوانب الأمان منع وكيل معادٍ أو مخترق من نشر معلومات مضللة أو تعطيل بروتوكولات التنسيق بما يسبب فشل النظام."),
    AgentPrinciple(83, "فرض قيود ومعايير سلوك مبرمجة داخل كل وكيل يساعد على ضبط السلوكيات الناشئة غير المرغوبة في الأنظمة المتعلمة."),
    AgentPrinciple(84, "في نظام وكلاء لإشارات المرور قد تؤدي الاختراقات أو تعطل بعض الوكلاء أو تضارب القرارات إلى فوضى، ويُخفَّف ذلك بالتشفير والمصادقة ورصد الشذوذ وعزل الوكيل المتعطل وخوارزميات تكيف لامركزية."),
    AgentPrinciple(85, "التعلم المعزز متعدد الوكلاء هو تعلم عدة وكلاء بالتجربة داخل بيئة مشتركة مع تعاون أو تنافس أثناء التعلم."),
    AgentPrinciple(86, "تحدٍّ خاص بـMARL هو عدم ثبات البيئة لكل وكيل لأن سياسات الوكلاء الآخرين تتغير أثناء التعلم (Non-Stationarity)."),
    AgentPrinciple(87, "في الأنظمة التنافسية يمكن استخدام نظرية الألعاب للوصول لتوازنات مستقرة مثل توازن ناش، مع بروتوكولات تفاوض وآليات تحفيز تقلل الغش وتدعم الاستقرار."),
    AgentPrinciple(88, "اختبار ومحاكاة الأنظمة متعددة الوكلاء أصعب بكثير بسبب تضخم حالات التفاعل وصعوبة تغطية السيناريوهات."),
    AgentPrinciple(89, "من المقاييس الدالة لأنظمة الوكلاء المتعددة: القابلية للتوسع بإضافة وكلاء، ومعدل/حجم التواصل بين الوكلاء، والتحمّل للخطأ عند فشل بعض الوكلاء."),
    AgentPrinciple(90, "اعتبار أخلاقي مهم هو الشفافية والمساءلة وتقليل التحيز وحماية الخصوصية عند استخدام وكلاء متعددة تتفاعل مع البشر، خصوصًا في المجالات الحساسة كالصحة."),
    AgentPrinciple(91, "من المتوقع أن تصبح الأنظمة متعددة الوكلاء ركيزة مهمة لأنها تتيح وكلاء متخصصين يتعاونون لتقديم حلول أكثر شمولًا ومرونة من الحلول الأحادية."),
    AgentPrinciple(92, "الذكاء الوكيلي قد يكون بوكيل واحد أو بعدة وكلاء، وأنظمة الوكلاء المتعددة هي حالة خاصة يعمل فيها أكثر من وكيل معًا."),
    AgentPrinciple(93, "المدن الذكية مثال واعد لأنظمة متعددة الوكلاء حيث تنسق وكلاء الطاقة والمرور والمرافق لتحقيق كفاءة واستجابة أعلى."),
    AgentPrinciple(94, "في إنترنت الأشياء يمكن اعتبار كل جهاز/خدمة وكيلاً مستقلاً يتواصل مع غيره لتحقيق أهداف مشتركة مثل إدارة المنزل أو المصنع الذكي."),
    AgentPrinciple(95, "التصميم المعياري يسهل تطوير واختبار كل وكيل أو مجموعة فرعية ثم دمجهم تدريجيًا وتحسين كل جزء على حدة."),
    AgentPrinciple(96, "يمكن دمج البلوكشين مع أنظمة الوكلاء لتوثيق تفاعلاتهم واتفاقياتهم بسجل شفاف وآمن عبر عقود ذكية دون وسيط موثوق."),
    AgentPrinciple(97, "يبقى للإنسان دور إشرافي واستراتيجي مثل ضبط الأهداف والتدخل في الحالات الطارئة حتى مع عمل الوكلاء ذاتيًا على التفاصيل."),
    AgentPrinciple(98, "في إدارة الكوارث يمكن لوكلاء درونز ومسح جوي ووكلاء روبوتات إنقاذ أرضية ووكلاء لوجستيات واتصالات أن يتعاونوا لتحديد مواقع العالقين وتوزيع الإمدادات وتنسيق الاستجابة بسرعة أعلى."),
    AgentPrinciple(99, "مع زيادة عدد الوكلاء تصبح المراقبة الآلية ضرورية لاكتشاف السلوك الشاذ أو الأعطال والتنبيه أو تفعيل إجراءات احتواء تلقائيًا."),
    AgentPrinciple(100, "نشر أنظمة الوكلاء المتعددة عمليًا يتطلب تضافر الذكاء الاصطناعي والاتصالات وهندسة البرمجيات والروبوتات والأخلاقيات لبناء نظام موثوق وآمن وقابل للتفسير يخدم القطاعات المختلفة."),
)


def get_agent_principles() -> tuple[AgentPrinciple, ...]:
    """الحصول على جميع مبادئ الوكلاء بشكل ثابت."""

    return AGENT_PRINCIPLES


def resolve_autonomy_namespace(env: Mapping[str, str] | None = None) -> str | None:
    """
    تحديد مساحة أسماء مستقلة من متغيرات البيئة.

    يطبق مبدأ استقلالية الوكيل عبر ربط الكاش بهوية الخدمة.
    """

    source = env or environ
    for key in ("CACHE_NAMESPACE", "SERVICE_NAME", "AGENT_NAME", "AGENT_ID"):
        value = source.get(key)
        if value:
            normalized = value.strip()
            if normalized:
                return normalized
    return None
